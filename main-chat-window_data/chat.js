!function(e){function t(t){for(var r,o,a=t[0],c=t[1],u=t[2],d=0,h=[];d<a.length;d++)o=a[d],i[o]&&h.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);h.length;)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={32:0,3:0};var s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=r);var s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(e){return o.p+"js/"+({5:"vendors~fine-uploader",6:"dnd"}[e]||e)+"."+{5:"cabb5b188",6:"9c1215208"}[e]+".js"}(e);var c=setTimeout(function(){u({type:"timeout",target:a})},12e4);function u(t){a.onerror=a.onload=null,clearTimeout(c);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+s+")");o.type=r,o.request=s,n[1](o)}i[e]=void 0}}a.onerror=a.onload=u,s.appendChild(a)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/dist/",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;s.push([282,22]),n()}([function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return c});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function c(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}},function(e,t,n){"use strict";var r,i=n(14),s=function(){function e(e,t){this.concurrency=e,this.timeout=t,this._pending=[],this._working=[]}return e.prototype.run=function(e){var t=this;return new Promise(function(n,r){var i={resolve:n,reject:r,jobFunc:e};t._working.length>=t.concurrency?t._pending.push(i):t.startWorking(i)})},e.prototype.startWorking=function(t){var n=this,r=t.resolve,i=t.reject,s=t.jobFunc,o=e.beginJob(s),a=o.timeout||this.timeout,c=function(){var e=n._working.indexOf(o);-1!==e&&n._working.splice(e,1),setTimeout(function(e){n._working.length<n.concurrency&&n._pending.length>0&&n.startWorking(n._pending.shift())})};this._working.push(o),a&&setTimeout(function(e){o.cancel&&o.cancel(),c(),i(new Error("worker-pool timeout"))},a),o.promise.then(function(e){c(),r(e)},function(e){c(),i(e)})},e.beginJob=function(e){return e()},e}();function o(){var e=10;var t=function(e,t){return 255&e.charCodeAt(t)},n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function r(e){for(var t,r,i,s="",o=0,a=e.length;o<a;){if(t=255&e.charCodeAt(o++),o===a){s+=n.charAt(t>>2),s+=n.charAt((3&t)<<4),s+="==";break}if(r=e.charCodeAt(o++),o===a){s+=n.charAt(t>>2),s+=n.charAt((3&t)<<4|(240&r)>>4),s+=n.charAt((15&r)<<2),s+="=";break}i=e.charCodeAt(o++),s+=n.charAt(t>>2),s+=n.charAt((3&t)<<4|(240&r)>>4),s+=n.charAt((15&r)<<2|(192&i)>>6),s+=n.charAt(63&i)}return s}var i=25e3,s=1e6;function o(n){return new Promise(function(o,a){var c=0,u=1e5,l="";!function d(){u>s&&a("Max range end reached"),function(t,n,r){return new Promise(function(i,s){var o=new XMLHttpRequest;o.open("GET",t,!0),o.setRequestHeader("Range","bytes="+n+"-"+r);var a=(r-n)/1e3;o.timeout=1e3*Math.ceil(a/e),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.onload=function(){return i(o.responseText)},o.onerror=s,o.onabort=s,o.ontimeout=s,o.send()})}(n,c,u).then(function(e){var n=function(e,n){var i=0;if(71!==t(e,i++)||73!==t(e,i++)||70!==t(e,i++)||56!==t(e,i++)||57!==t(e,i++)||97!==t(e,i++))throw Error("Invalid GIF 89a header.");i+=4;var s=t(e,i++),o=s>>7,a=1<<1+(7&s);for(i++,t(e,i++),o&&(i+=3*a);i<e.length;){var c=t(e,i++);if(33==c)switch(t(e,i++)){case 255:if(11!==t(e,i)||78==t(e,i+1)&&69==t(e,i+2)&&84==t(e,i+2)&&83==t(e,i+4)&&67==t(e,i+5)&&65==t(e,i+6)&&80==t(e,i+7)&&69==t(e,i+8)&&50==t(e,i+9)&&46==t(e,i+10)&&48==t(e,i+11)&&3==t(e,i+12)&&1==t(e,i+13)&&0==t(e,i+16))i+=14,i++;else for(i+=12;0!==(u=t(e,i++));)i+=u;break;case 249:if(4!==t(e,i++)||0!==t(e,i+4))throw Error("Invalid graphics extension block.");i+=4,i++;break;case 254:for(;0!==(u=t(e,i++));)i+=u;break;default:throw Error("Unknown graphic control label: 0x"+t(e,i-1).toString(16))}else if(44==c)break}for(i+=10;;){var u;if(0===(u=t(e,i++))&&i<=n)return"data:image/gif;base64,"+r(e.substring(0,i));if((i+=u)>=n)return-1}}(l+=e,u);return-1===n?(c=u+1,u+=i,d()):-2===n?a("Error decode gif img data"):o(n)}).catch(a)}()})}var a=self;function c(e,t){var n=t&&t.toString?t.toString():"Unserialized fetchGifFirstFrame error";a.postMessage({id:e,errorMessage:n})}a.onmessage=function(e){var t=e.data,n=void 0===t?{}:t,r=n.id;try{o(n.url).then(function(e){a.postMessage({id:r,result:e})}).catch(function(e){return c(r,e)})}catch(e){c(r,e)}}}var a=Object.create(null),c=!1;var u=function(e){if(c||function(){try{var e=URL.createObjectURL(new Blob(["(",o.toString(),")()"],{type:"application/javascript"}));(r=new Worker(e)).onmessage=function(e){var t=e.data,n=void 0===t?{}:t,r=n.id,i=n.result,s=void 0===i?void 0:i,o=n.errorMessage,c=void 0===o?void 0:o,u=a[r]||{},l=u.resolve,d=void 0===l?function(){}:l,h=u.reject,f=void 0===h?function(){}:h;s?d(s):f(c),delete a[r]}}catch(e){}finally{c=!0}}(),!r)return Promise.reject("Create gif fetcher worker failed");var t=0===e.indexOf("//")?location.protocol+e:e,n=t;return r.postMessage({id:n,url:t}),new Promise(function(e,t){a[n]={resolve:e,reject:t}})},l=n(13);n.d(t,"m",function(){return f}),n.d(t,"w",function(){return m}),n.d(t,"v",function(){return p}),n.d(t,"c",function(){return v}),n.d(t,"q",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"i",function(){return b}),n.d(t,"j",function(){return w}),n.d(t,"k",function(){return T}),n.d(t,"l",function(){return y}),n.d(t,"t",function(){return E}),n.d(t,"b",function(){return S}),n.d(t,"a",function(){return O}),n.d(t,"p",function(){return A}),n.d(t,"g",function(){return M}),n.d(t,"f",function(){return k}),n.d(t,"u",function(){return L}),n.d(t,"x",function(){return x}),n.d(t,"y",function(){return N}),n.d(t,"A",function(){return R}),n.d(t,"r",function(){return D}),n.d(t,"n",function(){return P}),n.d(t,"e",function(){return j}),n.d(t,"s",function(){return V}),n.d(t,"z",function(){return F}),n.d(t,"h",function(){return H}),n.d(t,"o",function(){return U}),n.d(t,"B",function(){return $});var d=new s(3,6e4),h=new s(5,2e4);function f(e,t){void 0===t&&(t=!1);var n=e+t;if(f[n])return f[n];var r=-1===e.indexOf(".gif")||t?h:d;return f[e]=r.run(function(){return function(e,t){void 0===t&&(t=!1);var n=new Image;return{promise:new Promise(function(r,i){-1!==e.indexOf(".gif")&&t?u(e).then(function(e){return n.src=e}).catch(i):n.src=e,n.onload=r.bind(null,n),n.onerror=i}).then(function(e){return e},function(t){return console.error("load fail",e,t),Promise.reject(e)}),cancel:function(){return n.complete||n.removeAttribute("src")}}}(e,t)})}function m(e){return function(t){return new Promise(function(n){setTimeout(function(){return n(t)},1e3*e)})}}function p(e){return String(e).match(/^[0-9.]+$/)?String(e)+"px":e}function v(e,t){var n={},r=t.length;for(var i in e)e.hasOwnProperty(i)&&0===i.indexOf(t)&&i.length>r&&(n[i.slice(r,r+1).toLowerCase()+i.slice(r+1)]=e[i]);return n}function g(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[[t,r.slice(0,1).toUpperCase(),r.slice(1)].join("")]=e[r]);return n}function _(){return _.result||(navigator.userAgent.match(/Android/i)?_.result="Android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?_.result="iOS":_.result="etc"),_.result}function b(){var e=navigator.userAgent,t=e.indexOf("Android")>-1&&e.indexOf("Mozilla/")>-1&&e.indexOf("AppleWebKit")>-1,n=/AppleWebKit\/([\d.]+)/.exec(e),r=null===n?null:parseFloat(n[1]);return t&&null!==r&&r>500}_.result="";var w=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),T="true"===l.get("x-no-frame");function y(e,t){((t=t||e.root)===document.body?window:t).addEventListener("scroll",Object(i.throttle)(20,function(t){return e.emit("scroll",t)}))}function E(e,t){var n=function(e,t){return Object.keys(t).forEach(function(n){var r=new RegExp("\\["+n+"\\]","g");e=e.replace(r,t[n])}),e}(e.innerHTML,t);return e.innerHTML=n,e}var C,I="__awaitTransition";function S(e,t,n){return void 0===t&&(t=3e3),void 0===n&&(n=!1),new Promise(function(r,i){if(e){var s=function(t){t&&n&&t.target!==e||(clearTimeout(s.timeout),e.removeEventListener("transitionend",s),delete e[I],r(e))};e[I]&&(clearTimeout(e[I].timeout),e.removeEventListener("transitionend",e[I])),e.addEventListener("transitionend",s),e[I]=s,t&&(s.timeout=setTimeout(s,t))}else r(e)})}function O(e,t,n){return void 0===t&&(t=3e3),void 0===n&&(n=!1),new Promise(function(r,i){if(e){var s=function(t){n&&t.target!==e||(clearTimeout(s.timeout),e.removeEventListener("animationend",s),delete e[I],r(e))};e[I]&&(clearTimeout(e[I].timeout),e.removeEventListener("animationend",e[I])),e.addEventListener("animationend",s),e[I]=s,t&&(s.timeout=setTimeout(s,t))}else r(e)})}function A(e){if(!e)return new Promise(function(e){A(e)});setTimeout(e.bind(),20)}function M(e){var t=document.createElement("div");return t.innerHTML=e,t}function k(e){return M(e).children[0]}function L(e,t){Object.keys(t).forEach(function(n){var r=n.replace(/-([a-z])/g,function(e){return e.slice(1).toUpperCase()});r in e.style||console.warn("illegal styte:"+r),e.style[r]=t[n]})}function x(e){e.classList.add("notransition")}function N(e){D(e),e.classList.remove("notransition")}function R(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i=t?"add":"remove",s=0,o=n;s<o.length;s++){var a=o[s];e.classList[i](a)}}function D(e){e.offsetHeight}function P(e,t){return void 0===t&&(t=!1),!t&&P[e]?P[e]:P[e]=new Promise(function(t,n){var r=document.createElement("script");r.src=e,r.onload=function(){t()},r.onerror=function(){n(new Error("Failed to load script "+e))},document.head.appendChild(r)})}function j(e){e&&console.error(e)}function V(e){if(e){var t=e.split(/#/);if(t[0]!==location.href.split(/#/)[0])location.href=e;else if(t.length>1){var n=t.shift();history.replaceState(null,"",n+"#"+t.join("#")),setTimeout(function(e){return location.reload()})}else location.reload()}else location.reload()}function F(e){return e&&e.replace(/^https?:/,"")}function H(e,t){if(document.selection)e.focus(),document.selection.createRange().text=t;else if(e.selectionStart||0===e.selectionStart){var n=e.selectionStart,r=e.selectionEnd;e.value=e.value.substring(0,n)+t+e.value.substring(r,e.value.length),e.selectionStart=n+t.length,e.selectionEnd=n+t.length}else e.value+=t}function U(e){void 0===e&&(e="modal-open"),C=window.scrollY;var t=document.documentElement;document.body.style.paddingRight=window.innerWidth-t.clientWidth+"px",document.body.style.setProperty("--scrollbar-padding",window.innerWidth-t.clientWidth+"px"),t.classList.add(e),"etc"!==_()&&(document.documentElement.scrollTop=0,document.body.scrollTop=C)}function $(e){var t=e.modalClass,n=void 0===t?"modal-open":t,r=e.delay,i=void 0===r?0:r;document.body.style.paddingRight="",document.body.style.setProperty("--scrollbar-padding",""),document.documentElement.classList.remove(n),"etc"!==_()&&(i?setTimeout(function(){window.scrollTo(0,C)},i):window.scrollTo(0,C))}},function(e,t,n){"use strict";function r(e,t,n,r,i,s,o,a){var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:u}}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";var r=n(0),i=270,s=n(21);n.d(t,"h",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"k",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"n",function(){return m}),n.d(t,"m",function(){return p}),n.d(t,"l",function(){return v}),n.d(t,"j",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return w}),n.d(t,"i",function(){return T}),n.d(t,"f",function(){return y});var o=new URL("/api/",ServerData.hostUrl||location.origin),a="__response",c="__original";function u(e){return T("pick-locale",{locale:e})}function l(e){return T("/api/link-translation",{objectId:e.objectId,objectType:e.objectType,ndcId:e.isGlobal||!ServerData.community?"g":ServerData.community.ndcId})}function d(e,t){return T("join",{ndcId:e,inviteCode:t})}function h(e,t){return T("request_join",{ndcId:e,message:t})}function f(e,t,n){return void 0===n&&(n=!1),w((n||!ServerData.community?"g":ServerData.community.ndcId)+"/"+e+"/"+t+"/votes")}function m(e){return T("vote",e)}function p(e){return T("unvote",e)}function v(e){return T("submit_comment",{ndcId:e.ndcId,postType:e.postType,postId:e.postId,content:e.content,commentId:e.commentId})}function g(e){return T("remove_comment",{ndcId:e.ndcId,postType:e.postType,postId:e.postId,commentId:e.commentId})}function _(){return w(ServerData.community.ndcId+"/online-members")}function b(e){return E("GET",e).then(function(e){if(e.status>=200&&e.status<300)return e.text();var t=new Error(e.statusText);throw t.response=e,t})}function w(e,t){return E("GET",e,t).then(function(e){return[e,e.json()]}).then(C)}function T(e,t){return E("POST",e,t).then(function(n){return n.json().then(function(r){return function(e){return e.api_status_code===i&&e.url&&e.url.indexOf("#/challenge")}(r)?(collectTEA("web_rate_limit_error",{step:"start"}),Object(s.b)().then(function(){return collectTEA("web_rate_limit_error",{step:"load_ga"}),window.grecaptcha.execute(window.ServerData.recaptchaV3Key,{action:"rateLimit"})}).then(function(n){return collectTEA("web_rate_limit_error",{step:"get_token"}),E("POST",e,t,{"X-Challenge-Recaptcha":n})}).then(function(e){return[e,e.json()]})):[n,r]})}).then(C)}function y(e,t,n){return void 0===n&&(n="GET"),E(n,e,t).then(function(e){return 200!==e.status?Promise.reject(e):e.text()})}function E(e,t,n,i){var s,a=t instanceof URL?t:new URL(t,o),c=Object(r.a)({"X-Requested-With":"xmlhttprequest"},i||{});if("GET"===e.toUpperCase())for(var u in n)a.searchParams.set(u,n[u]);else s=JSON.stringify(n),c["Content-Type"]="application/json";return fetch(a.href,{method:e,headers:c,body:s,credentials:"same-origin",redirect:"follow"})}function C(e){var t=e[0],n=e[1];return Promise.all([t,n]).then(function(e){var t=e[0],n=e[1];return 200===n.code&&n.result?Promise.resolve(new I(t,n)):Promise.reject({message:n.message||"bad response",response:n})})}var I=function(){function e(e,t){Object.assign(this,t.result),Array.isArray(t.result)&&(this.length=t.result.length),this[a]=e,this[c]=t.result}return Object.defineProperty(e.prototype,"httpResponse",{get:function(){return this[a]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalResult",{get:function(){return this[c]},enumerable:!0,configurable:!0}),e}()},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"h",function(){return h}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"g",function(){return p});var r,i=n(6),s=new i.default,o=new i.default,a=new i.default;n.e(5).then(function(){var e=n(174);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(e){var t=e.default;return t}).then(function(e){var t=e.FineUploaderBasic,r=e.supportedFeatures,i=e.Identify;r.fileDrop&&n.e(6).then(function(){var e=n(175);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(e){var t=e.default.DragAndDrop;return function(e){new e({dropZoneElements:[document.body],allowMultipleItems:window.UPLOADER_MULTIPLE_DROP||!1,classes:{dropActive:"drag-drop-enter"},callbacks:{processingDroppedFiles:function(){a.$emit("processing")},processingDroppedFilesComplete:function(e,t){1===e.length?a.$emit("dropped",e[0]):a.$emit("multiDropped",e)},dropError:function(e){"tooManyFilesError"===e&&a.$emit("error",_("Please upload one image at a time."))}}})}(t)});try{delete i.prototype.PREVIEWABLE_MIME_TYPES["image/gif"];var c=e.PasteSupport;c&&(e.PasteSupport=function(e){c.call(this,e),this.reset=function(){}})}catch(e){}var h=new t({autoUpload:!1,debug:!1,request:{endpoint:"/api/upload-image",inputName:"avatar"},retry:{enableAuto:!1},scaling:{includeExif:!0,sendOriginal:!1,defaultQuality:100,sizes:[{name:"avatar",maxSize:2048}]},multiple:!0,paste:{targetElement:document},callbacks:{onComplete:function(e,t,n){n&&200===n.code?(l[e](n.result),h.removeFileRef(e)):d[e](n),l[e]=null,d[e]=null},onSubmit:function(e,t){u(e)},onError:function(e,t,n){d[e](n)},onPasteReceived:function(e){o.$emit("paste",e)},onProgress:function(e,t,n,r){s.$emit("progress-"+e,{uploadedBytes:n,totalBytes:r})}}});return h}).then(function(e){r=e});var c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},u=c,l={},d={};function h(e,t){var n=new Promise(function(t,n){l[e]=function(n){n.id=e,t(n)},d[e]=function(t){t.id=e,n(t)}});return t.retry(e),n}function f(e,t,n){if(e instanceof window.File&&!/^image/.test(e.type))return Promise.reject(_("Sorry, only JPG, PNG and GIF files are allowed."));var r=new Promise(function(e,n){u=function(r){u=c;var i=t.getFile(r);i?i.size>6e6?n(_("That's a great pic, but it's a bit too big... Please keep it under 6MB.")):e(r):n()}});return t.addFiles([e],void 0,n),r}function m(e,t,n){if("function"!=typeof File)return n.drawThumbnail(t,e);try{var r=p(n.getFile(t));if(r)return e.src=r,Promise.resolve()}catch(e){}return n.drawThumbnail(t,e)}function p(e){var t="";try{e&&(e instanceof File||e instanceof Blob)&&(t=URL.createObjectURL(e).toString())}catch(e){}return t}},,,function(e,t,n){"use strict";function r(e){return e&&e.replace("x","")}function i(e,t){var n=function(n){for(var r=n.target;r;){if(r===e)return;r=r.parentNode}t(n)};return document.body.addEventListener("click",n),function(){document.body.removeEventListener("click",n)}}function s(e,t){t=t||function(e){return e};var n=Object.assign({hitType:"event",hitCallback:t,eventAction:"Click",eventLabel:ServerData.eventLabel},e);"undefined"==typeof ga?(console.error("ga unavailable",n),t()):(ga("send",n),ga("sampling.send",n),navigator.sendBeacon&&setTimeout(t))}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s})},,,function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),i=r.isInBrowser,s=n(2),o=new s(i?document.body:null);o.setStateFromDOM(null),o.listenToDOM(),i&&(window.scrollMonitor=o),e.exports=o},function(e,t){"use strict";t.VISIBILITYCHANGE="visibilityChange",t.ENTERVIEWPORT="enterViewport",t.FULLYENTERVIEWPORT="fullyEnterViewport",t.EXITVIEWPORT="exitViewport",t.PARTIALLYEXITVIEWPORT="partiallyExitViewport",t.LOCATIONCHANGE="locationChange",t.STATECHANGE="stateChange",t.eventTypes=[t.VISIBILITYCHANGE,t.ENTERVIEWPORT,t.FULLYENTERVIEWPORT,t.EXITVIEWPORT,t.PARTIALLYEXITVIEWPORT,t.LOCATIONCHANGE,t.STATECHANGE],t.isOnServer="undefined"==typeof window,t.isInBrowser=!t.isOnServer,t.defaultOffsets={top:0,bottom:0}},function(e,t,n){"use strict";function r(e){return a?0:e===document.body?window.innerHeight||document.documentElement.clientHeight:e.clientHeight}function i(e){return a?0:e===document.body?Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight):e.scrollHeight}function s(e){return a?0:e===document.body?window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop}var o=n(1),a=o.isOnServer,c=o.isInBrowser,u=o.eventTypes,l=n(3),d=!1;if(c)try{var h=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("test",null,h)}catch(e){}var f=!!d&&{capture:!1,passive:!0},m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o,a,c,l=this;this.item=t,this.watchers=[],this.viewportTop=null,this.viewportBottom=null,this.documentHeight=i(t),this.viewportHeight=r(t),this.DOMListener=function(){e.prototype.DOMListener.apply(l,arguments)},this.eventTypes=u,n&&(this.containerWatcher=n.create(t)),this.update=function(){(function(){if(l.viewportTop=s(t),l.viewportBottom=l.viewportTop+l.viewportHeight,l.documentHeight=i(t),l.documentHeight!==o){for(a=l.watchers.length;a--;)l.watchers[a].recalculateLocation();o=l.documentHeight}})(),function(){for(c=l.watchers.length;c--;)l.watchers[c].update();for(c=l.watchers.length;c--;)l.watchers[c].triggerCallbacks()}()},this.recalculateLocations=function(){this.documentHeight=0,this.update()}}return e.prototype.listenToDOM=function(){c&&(window.addEventListener?(this.item===document.body?window.addEventListener("scroll",this.DOMListener,f):this.item.addEventListener("scroll",this.DOMListener,f),window.addEventListener("resize",this.DOMListener)):(this.item===document.body?window.attachEvent("onscroll",this.DOMListener):this.item.attachEvent("onscroll",this.DOMListener),window.attachEvent("onresize",this.DOMListener)),this.destroy=function(){window.addEventListener?(this.item===document.body?(window.removeEventListener("scroll",this.DOMListener,f),this.containerWatcher.destroy()):this.item.removeEventListener("scroll",this.DOMListener,f),window.removeEventListener("resize",this.DOMListener)):(this.item===document.body?(window.detachEvent("onscroll",this.DOMListener),this.containerWatcher.destroy()):this.item.detachEvent("onscroll",this.DOMListener),window.detachEvent("onresize",this.DOMListener))})},e.prototype.destroy=function(){},e.prototype.DOMListener=function(e){this.setStateFromDOM(e)},e.prototype.setStateFromDOM=function(e){var t=s(this.item),n=r(this.item),o=i(this.item);this.setState(t,n,o,e)},e.prototype.setState=function(e,t,n,r){var i=t!==this.viewportHeight||n!==this.contentHeight;if(this.latestEvent=r,this.viewportTop=e,this.viewportHeight=t,this.viewportBottom=e+t,this.contentHeight=n,i)for(var s=this.watchers.length;s--;)this.watchers[s].recalculateLocation();this.updateAndTriggerWatchers(r)},e.prototype.updateAndTriggerWatchers=function(e){for(var t=this.watchers.length;t--;)this.watchers[t].update();for(t=this.watchers.length;t--;)this.watchers[t].triggerCallbacks(e)},e.prototype.createCustomContainer=function(){return new e},e.prototype.createContainer=function(t){"string"==typeof t?t=document.querySelector(t):t&&t.length>0&&(t=t[0]);var n=new e(t,this);return n.setStateFromDOM(),n.listenToDOM(),n},e.prototype.create=function(e,t){"string"==typeof e?e=document.querySelector(e):e&&e.length>0&&(e=e[0]);var n=new l(this,e,t);return this.watchers.push(n),n},e.prototype.beget=function(e,t){return this.create(e,t)},e}();e.exports=m},function(e,t,n){"use strict";function r(e,t,n){function r(e,t){if(0!==e.length)for(g=e.length;g--;)(_=e[g]).callback.call(b,t,b),_.isOne&&e.splice(g,1)}var i,m,p,v,g,_,b=this;this.watchItem=t,this.container=e,this.offsets=n?n===+n?{top:n,bottom:n}:{top:n.top||f.top,bottom:n.bottom||f.bottom}:f,this.callbacks={};for(var w=0,T=h.length;w<T;w++)b.callbacks[h[w]]=[];this.locked=!1,this.triggerCallbacks=function(e){switch(this.isInViewport&&!i&&r(this.callbacks[o],e),this.isFullyInViewport&&!m&&r(this.callbacks[a],e),this.isAboveViewport!==p&&this.isBelowViewport!==v&&(r(this.callbacks[s],e),m||this.isFullyInViewport||(r(this.callbacks[a],e),r(this.callbacks[u],e)),i||this.isInViewport||(r(this.callbacks[o],e),r(this.callbacks[c],e))),!this.isFullyInViewport&&m&&r(this.callbacks[u],e),!this.isInViewport&&i&&r(this.callbacks[c],e),this.isInViewport!==i&&r(this.callbacks[s],e),!0){case i!==this.isInViewport:case m!==this.isFullyInViewport:case p!==this.isAboveViewport:case v!==this.isBelowViewport:r(this.callbacks[d],e)}i=this.isInViewport,m=this.isFullyInViewport,p=this.isAboveViewport,v=this.isBelowViewport},this.recalculateLocation=function(){if(!this.locked){var e=this.top,t=this.bottom;if(this.watchItem.nodeName){var n=this.watchItem.style.display;"none"===n&&(this.watchItem.style.display="");for(var i=0,s=this.container;s.containerWatcher;)i+=s.containerWatcher.top-s.containerWatcher.container.viewportTop,s=s.containerWatcher.container;var o=this.watchItem.getBoundingClientRect();this.top=o.top+this.container.viewportTop-i,this.bottom=o.bottom+this.container.viewportTop-i,"none"===n&&(this.watchItem.style.display=n)}else this.watchItem===+this.watchItem?this.watchItem>0?this.top=this.bottom=this.watchItem:this.top=this.bottom=this.container.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom);this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===e&&void 0===t||this.top===e&&this.bottom===t||r(this.callbacks[l],null)}},this.recalculateLocation(),this.update(),i=this.isInViewport,m=this.isFullyInViewport,p=this.isAboveViewport,v=this.isBelowViewport}var i=n(1),s=i.VISIBILITYCHANGE,o=i.ENTERVIEWPORT,a=i.FULLYENTERVIEWPORT,c=i.EXITVIEWPORT,u=i.PARTIALLYEXITVIEWPORT,l=i.LOCATIONCHANGE,d=i.STATECHANGE,h=i.eventTypes,f=i.defaultOffsets;r.prototype={on:function(e,t,n){switch(!0){case e===s&&!this.isInViewport&&this.isAboveViewport:case e===o&&this.isInViewport:case e===a&&this.isFullyInViewport:case e===c&&this.isAboveViewport&&!this.isInViewport:case e===u&&this.isInViewport&&this.isAboveViewport:if(t.call(this,this.container.latestEvent,this),n)return}if(!this.callbacks[e])throw new Error("Tried to add a scroll monitor listener of type "+e+". Your options are: "+h.join(", "));this.callbacks[e].push({callback:t,isOne:n||!1})},off:function(e,t){if(!this.callbacks[e])throw new Error("Tried to remove a scroll monitor listener of type "+e+". Your options are: "+h.join(", "));for(var n,r=0;n=this.callbacks[e][r];r++)if(n.callback===t){this.callbacks[e].splice(r,1);break}},one:function(e,t){this.on(e,t,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<this.container.viewportTop,this.isBelowViewport=this.bottom>this.container.viewportBottom,this.isInViewport=this.top<this.container.viewportBottom&&this.bottom>this.container.viewportTop,this.isFullyInViewport=this.top>=this.container.viewportTop&&this.bottom<=this.container.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var e=this.container.watchers.indexOf(this);this.container.watchers.splice(e,1);for(var t=0,n=h.length;t<n;t++)this.callbacks[h[t]].length=0},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}};for(var m=function(e){return function(t,n){this.on.call(this,e,t,n)}},p=0,v=h.length;p<v;p++){var g=h[p];r.prototype[g]=m(g)}e.exports=r}])},,function(e,t,n){var r,i;!function(s){if(void 0===(i="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=s(),!!0){var o=window.Cookies,a=window.Cookies=s();a.noConflict=function(){return window.Cookies=o,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,s){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=e({path:"/"},r.defaults,s)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s.expires),s.expires=a}s.expires=s.expires?s.expires.toUTCString():"";try{o=JSON.stringify(i),/^[\{\[]/.test(o)&&(i=o)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var u in s)s[u]&&(c+="; "+u,!0!==s[u]&&(c+="="+s[u]));return document.cookie=t+"="+i+c}t||(o={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,h=0;h<l.length;h++){var f=l[h].split("="),m=f.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var p=f[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,p):n(m,p)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===p){o=m;break}t||(o[p]=m)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t,n){var r=n(22),i=n(35);e.exports={throttle:r,debounce:i}},function(e,t,n){"use strict";function r(e,t){for(var n={},r=[],i=0,s=e;i<s.length;i++){var o=s[i],a=t(o);n[a]||(r.push(o),n[a]=1)}return r}function i(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return n;return-1}function s(e,t,n){var r;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(void 0,i)},t),o&&e.apply(void 0,i)}}n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return a});var o="function"==typeof Object.freeze;function a(e){return o&&Object.freeze(e),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o});var r=function(){return function(e,t){this.key=e,this.getter=t}}(),i=function(){function e(e){void 0===e&&(e={}),this._options=e}return e.prototype.props=function(e){return this._options.props=e,this},e.prototype.data=function(e){return this._options.data=e,this},e.prototype.computed=function(e){for(var t=this._options.computed=this._options.computed||{},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=e[i]}return this},e.prototype.methods=function(e){for(var t=this._options.methods=this._options.methods||{},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=e[i]}return this},e.prototype.components=function(e){return this._options.components=e,this},e.prototype.inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._options.inject=e.map(function(e){return e.key}),this},e.prototype.render=function(e){return this._options.render=e,this},e.prototype.watch=function(e){for(var t=this._options.watch=this._options.watch||{},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=e[i]}return this},e.prototype.provide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._options.provide=function(){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];t[i.key]=i.getter.bind(this)}return t},this},e.prototype.lifecycle=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._options[r]=e[r]}return this},e.prototype.done=function(e){return this._options},e}();function s(e){return void 0===e&&(e={}),new i(e)}function o(e,t){return new r(e,t)}},,function(e,t,n){},,,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r,i,s=n(1),o=function(){return r||(r=new Promise(function(e){window.grecaptcha?e():(window.__onRecaptchaLoad=function(){e(),delete window.__onRecaptchaLoad},Object(s.n)("//www.google.com/recaptcha/api.js?render=explicit&onload=__onRecaptchaLoad"))}))},a=function(){return i||(i=new Promise(function(e,t){Object(s.n)("//www.google.com/recaptcha/api.js?render="+window.ServerData.recaptchaV3Key).then(function(){window.grecaptcha.ready(e)}).catch(t)}))}},function(e,t){e.exports=function(e,t,n,r){var i,s=0;return"boolean"!=typeof t&&(r=n,n=t,t=void 0),function(){var o=this,a=Number(new Date)-s,c=arguments;function u(){s=Number(new Date),n.apply(o,c)}r&&!i&&u(),i&&clearTimeout(i),void 0===r&&a>e?u():!0!==t&&(i=setTimeout(r?function(){i=void 0}:u,void 0===r?e-a:e))}}},,function(e,t,n){"use strict";n.p=function(){try{var e=document.currentScript,t=e.src;return t.replace(/js\/[^\/]+.js.*/,"")}catch(e){}return"/static/dist/"}();for(var r="",i=0,s=[0,12,8,13,14,0,15,15,18,-51];i<s.length;i++){var o=s[i];r+=String.fromCharCode(o+97)}var a=location.hostname;0===location.protocol.indexOf("http")&&a.indexOf(r)<0&&a.indexOf("pebkit.")<0&&a.indexOf("narvii.")<0&&(location.href="https://"+r+"com");var c=n(27),u=n.n(c),l=[];function d(e){return e&&l.push(e),{start:function e(t){if(0===l.length)return t();setTimeout(function(){return function(e,t){var n=document.createElement("script");n.src=e,n.onload=function(){t()},n.onerror=function(){t(new Error("Failed to load polyfill script "+e))},document.head.appendChild(n)}(l.shift(),function(n){return n?t(n):e(t)})})}}}t.a=function(e){u()({notify:{i:11,c:"-24m",f:-4,s:-2,o:-4},unsecure:!0,api:5,onshow:h("Show"),onclick:h("Click"),onclose:h("Close")}),window.Proxy||d("https://unpkg.com/proxy-polyfill@0.1.7/proxy.min.js");for(var t=[],n=0,r=[{scope:window,feats:["Promise","fetch","URL","URLSearchParams","Map","localStorage","requestAnimationFrame"]},{scope:Element.prototype,prefix:"Element.prototype.",feats:["after","before","closest","remove","matches","classList"]},{scope:Array,prefix:"Array.",feats:["from"]},{scope:Node.prototype,prefix:"Node.prototype.",feats:["contains"]},{scope:String.prototype,prefix:"String.prototype.",feats:["startsWith"]},{scope:Object,prefix:"Object.",feats:["assign"]}];n<r.length;n++)for(var i=r[n],s=i.scope,o=i.feats,a=i.prefix,c=void 0===a?"":a,l=0,f=o;l<f.length;l++){var m=f[l];m in s||t.push(c+m)}window.URL&&window.URL.prototype&&window.URL.prototype.hasOwnProperty("href")||t.push("URL"),t.length&&d("https://cdn.polyfill.io/v2/polyfill.min.js?unknown=polyfill&flags=gated,always&features=default,"+t.join(",")),window.NodeList.prototype.forEach||(window.NodeList.prototype.forEach=Array.prototype.forEach),d().start(function(t){if(t)throw t;e()})};function h(e){function t(){ga?(ga("send",{hitType:"event",eventCategory:"Browser Update Popup",eventAction:e,eventLabel:ServerData?ServerData.eventLabel:"",nonInteraction:!0}),ga("sampling.send",{hitType:"event",eventCategory:"Browser Update Popup",eventAction:e,eventLabel:ServerData?ServerData.eventLabel:"",nonInteraction:!0})):console.error("ga unavailable")}return function(){setTimeout(t,20)}}},,,function(e,t,n){"use strict";var r=new function(){var e=this;this.vsakt={e:18,i:15,f:64,o:57,o_a:48.2,s:12,c:71,y:"18.11",v:2.2,uc:12.9,samsung:7.4,ios:12.1},this.vsinsecure_below={i:11,e:16,c:64,f:59,y:"18.11",s:"10.1.2",ios:"9.3.5",v:"2.0",uc:"12.6",samsung:"6.4",o_a:44,o:51},this.vsdefault={e:-3,i:11,f:-3,o:-3,o_a:-3,s:-1,c:-3,a:535,y:18.6,v:1.14,uc:12.1,samsung:6.4,ios:9},this.names={i:"Internet Explorer",e:"Edge",f:"Firefox",o:"Opera",o_a:"Opera",s:"Safari",c:"Chrome",a:"Android Browser",y:"Yandex Browser",v:"Vivaldi",uc:"UC Browser",samsung:"Samsung Internet",x:"Other",ios:"iOS",silk:"Silk"},this.get_browser=function(t){t=(t||navigator.userAgent).replace("_",".");var n={n:"x",v:0,t:"other browser",age_years:void 0,no_device_update:!1,available:e.vsakt};function r(e,n){return!!new RegExp(n,"i").test(t)&&e}n.other=r("bot","bot|spider|archiver|transcoder|crawl|checker|monitoring|prerender|screenshot|python-|php|uptime|validator|fetcher|facebook|slurp|google|yahoo|node|mail.ru|github|cloudflare|addthis|thumb|proxy|feed|fetch|favicon|link|http|scrape|seo|page|search console|AOLBuild|Teoma|Expeditor")||r("TV","SMART-TV|SmartTV")||r("niche browser","Dorado|LBBROWSER|Focus|waterfox|Firefox/56.2|Firefox/56.3|Whale|MIDP|k-meleon|sparrow|wii|Chromium|Puffin|Opera Mini|maxthon|maxton|dolfin|dolphin|seamonkey|opera mini|netfront|moblin|maemo|arora|kazehakase|epiphany|konqueror|rekonq|symbian|webos|PaleMoon|QupZilla|Otter|Midori|qutebrowser")||r("mobile without upgrade path or landing page","cros|kindle|tizen|silk|blackberry|bb10|RIM|PlayBook|meego|nokia|ucweb|ZuneWP7|537.85.10"),n.mobile=/iphone|ipod|ipad|android|mobile|phone|ios|iemobile/i.test(t);for(var i=[["CriOS.VV","c","ios"],["FxiOS.VV","f","ios"],["Trident.*rv:VV","i","i"],["Trident.VV","io","i"],["UCBrowser.VV","uc","c"],["MSIE.VV","i","i"],["Edge.VV","e","e"],["Vivaldi.VV","v","c"],["Android.*OPR.VV","o_a","c"],["OPR.VV","o","c"],["YaBrowser.VV","y","c"],["SamsungBrowser.VV","samsung","c"],["Silk.VV","silk","c"],["Chrome.VV","c","c"],["Firefox.VV","f","f"],[" OS.VV.*Safari","ios","ios"],["Version.VV.*Safari","s","s"],["Safari.VV","so","s"],["Opera.*Version.VV","o"],["Opera.VV","o"]],s="(\\d+\\.?\\d+\\.?\\d*\\.?\\d*)",o=0;o<i.length;o++)if(t.match(new RegExp(i[o][0].replace("VV",s),"i"))){n.n=i[o][1],n.engine=i[o][2];break}if(n.fullv=RegExp.$1,n.v=parseFloat(n.fullv),/windows.nt.5.0|windows.nt.4.0|windows.95|windows.98|os x 10.2|os x 10.3|os x 10.4|os x 10.5/i.test(t)&&(n.no_device_update=!0,n.available={}),/iphone|ipod|ipad|ios/i.test(t)&&(t.match(new RegExp("OS."+s,"i")),n.n="ios",n.fullv=RegExp.$1,n.v=parseFloat(n.fullv),n.engine="ios",n.available={ios:e.available_ios(t,a)},n.available.ios<11&&(n.no_device_update=!0)),/windows.nt.5.1|windows.nt.5.2|windows.nt.6.0/i.test(t)&&(n.available={c:49.9,f:52.9}),/os x 10.6/i.test(t)&&(n.available={s:"5.1.10",c:49.9,f:48},n.no_device_update=!0),/os x 10.7|os x 10.8/i.test(t)&&(n.available={s:"6.2.8",c:49.9,f:48},n.no_device_update=!0),/os x 10.9/i.test(t)&&(n.available.s="9.1.3"),/os x 10.10/i.test(t)&&(n.available.s="10.1.2"),t.indexOf("Android")>-1&&"s"===n.n){var a=parseInt((/WebKit\/([0-9]+)/i.exec(t)||0)[1],10)||2e3;a<=534&&(n.n="a",n.fullv=n.v=a,n.is_insecure=!0)}"so"===n.n&&(n.v=n.fullv=4,n.n="s"),"io"===n.n&&(n.n="i",n.v>6?n.v=11:n.v>5?n.v=10:n.v>4?n.v=9:n.v>3.1?n.v=8:n.v>3?n.v=7:n.v=9,n.fullv=n.v),n.t=e.names[n.n]+" "+n.v,n.is_supported=n.is_latest=e.vsakt[n.n]?e.less(n.fullv,e.vsakt[n.n])<=0:void 0,n.vmaj=Math.round(n.v),n.is_insecure=n.is_insecure||!e.vsinsecure_below[n.n]?void 0:1===e.less(n.fullv,e.vsinsecure_below[n.n]),("f"===n.n&&(52===n.vmaj||60===n.vmaj)||"i"===n.n&&11===n.vmaj)&&(n.is_supported=!0,n.is_insecure=!1,"f"===n.n&&(n.esr=!0)),("c"===n.n||"f"===n.n||"o"===n.n)&&e.less(n.fullv,parseFloat(e.vsakt[n.n])-1)<=0&&(n.is_supported=!0),"ios"===n.n&&n.v>10.3&&(n.is_supported=!0),"a"!==n.n&&"x"!==n.n||(n.t=e.names[n.n]),"e"===n.n&&(n.t=e.names[n.n]+" "+n.vmaj);var c={f:7,c:8,o:8,i:1,e:1,s:1};c[n.n]&&(n.age_years=Math.round((e.vsakt[n.n]-n.v)/c[n.n]*10)/10||0);return n.engine&&(t.match(new RegExp({e:"Edge.VV",c:"Chrome.VV",f:"Firefox.VV",s:"Version.VV",i:"MSIE.VV",ios:" OS.VV"}[n.engine].replace("VV",s),"i")),n.engine_version=parseFloat(RegExp.$1)),n},this.semver=function(e){if(e instanceof Array)return e;var t=(e+".0.0.0").split(".");return[parseInt(t[0])||0,parseInt(t[1])||0,parseInt(t[2])||0,parseInt(t[3])||0]},this.less=function(t,n){t=e.semver(t),n=e.semver(n);for(var r=0;;r++){if(r>=t.length)return r>=n.length?0:1;if(r>=n.length)return-1;var i=n[r]-t[r];if(i)return i>0?1:-1}},this.available_ios=function(e,t){var n=Math.max(window.screen.height,window.screen.width),r=window.devicePixelRatio;return/ipad/i.test(e)?1024==n&&2==r?10:1112==n?15:1366==n?15:1024==n&&t<6?5:9:1==r?6:812==n?15:736==n||667==n?13:568==n?10:480==n?7:6}};window.$bu_getBrowser=r.get_browser;e.exports=function(e,t){var n,i=window.navigator,s=(e=window._buorgres=e||{}).l||(i.languages?i.languages[0]:null)||i.language||i.browserLanguage||i.userLanguage||document.documentElement.getAttribute("lang")||"en";e.llfull=s.replace("_","-").toLowerCase().substr(0,5),e.ll=e.llfull.substr(0,2),e.domain=void 0!==e.domain?e.domain:(/file:/.test(location.href)?"https:":"")+"//browser-update.org",e.apiver=e.api||e.c||-1,e.jsv="3.2.5npm";var o=e.apiver<2018&&{i:10,f:11,o:21,s:8,c:30}||{},a=e.notify||e.vs||{};a.e=a.e||a.i,a.i=a.i||a.e;var c=e.required||{};for(n in c.e=c.e||c.i,c.i=c.i||c.e,r.vsdefault)a[n]&&(r.less(a[n],0)>=0?c[n]=parseFloat(r.vsakt[n])+parseFloat(a[n])+.01:c[n]=parseFloat(a[n])+.01),c[n]||(c[n]=r.vsdefault[n]),r.less(c[n],0)>=0&&(c[n]=r.vsakt[n]+c[n]),o[n]&&1===r.less(c[n],o[n])&&(c[n]=o[n]);c.ios=c.ios||c.s,e.required=c,e.reminder=e.reminder<.1?0:e.reminder||168,e.reminderClosed=e.reminderClosed<1?0:e.reminderClosed||168,e.onshow=e.onshow||function(e){},e.onclick=e.onclick||function(e){},e.onclose=e.onclose||function(e){},e.pageurl=e.pageurl||location.hostname||"x",e.newwindow=!1!==e.newwindow,e.test=t||e.test||"#test-bu"===location.hash||!1,1200*Math.random()<1&&!e.test&&((new Image).src="//browser-update.org/count.php?what=brow&jsv="+e.jsv);if(e.test=t||e.test||"#test-bu"===location.hash,e.reasons=[],e.hide_reasons=[],e.notified=function(e){var t=r.get_browser(e.override_ua);return e.is_below_required=c[t.n]&&1===r.less(t.fullv,c[t.n]),!1!==t.other&&e.hide_reasons.push("is other browser:"+t.other),t.esr&&!e.notify_esr&&e.hide_reasons.push("Extended support (ESR)"),t.mobile&&!1===e.mobile&&e.hide_reasons.push("do not notify mobile"),t.no_device_update&&e.hide_reasons.push("no device update"),e.is_below_required&&e.reasons.push("below required"),(e.insecure||e.unsecure)&&t.is_insecure&&e.reasons.push("insecure"),e.unsupported&&!t.is_supported&&e.reasons.push("no vendor support"),!(e.hide_reasons.length>0)&&e.reasons.length>0}(e),e.already_shown=document.cookie.indexOf("browserupdateorg=pause")>-1,e.test||e.notified&&!e.already_shown)if(e.setCookie=function(e){document.cookie="browserupdateorg=pause; expires="+new Date((new Date).getTime()+36e5*e).toGMTString()+"; path=/"},e.reminder>0&&e.setCookie(e.reminder),e.nomessage)e.onshow(e);else{var u=document.createElement("script");u.src=e.jsshowurl||e.domain+"/update.show.min.js",document.body.appendChild(u)}}},,,,function(e,t,n){"use strict";var r,i;n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),function(e){e[e.USER=0]="USER",e[e.BLOG=1]="BLOG",e[e.ITEM=2]="ITEM",e[e.COMMENT=3]="COMMENT",e[e.BLOG_CATEGORY=4]="BLOG_CATEGORY",e[e.BLOG_CATEGORY_ITEM_TAG=5]="BLOG_CATEGORY_ITEM_TAG",e[e.FEATURED_ITEM=6]="FEATURED_ITEM",e[e.CHAT_MESSAGE=7]="CHAT_MESSAGE",e[e.REPUTATIONLOG_ITEM=10]="REPUTATIONLOG_ITEM",e[e.POLL_OPTION=11]="POLL_OPTION",e[e.CHAT_THREAD=12]="CHAT_THREAD",e[e.IMAGE=100]="IMAGE",e[e.MUSIC=101]="MUSIC",e[e.VIDEO=102]="VIDEO",e[e.YOUTUBE=103]="YOUTUBE",e[e.SHARED_FOLDER=106]="SHARED_FOLDER",e[e.SHARED_FOLDER_FILE=109]="SHARED_FOLDER_FILE",e[e.VOICE=110]="VOICE",e[e.MODERATION_TASK=111]="MODERATION_TASK",e[e.SCREENSHOT=112]="SCREENSHOT",e[e.STICKER=113]="STICKER",e[e.STICKER_COLLECTION=114]="STICKER_COLLECTION",e[e.PROP=115]="PROP",e[e.CHAT_BUBBLE=116]="CHAT_BUBBLE",e[e.VIDEO_FILTER=117]="VIDEO_FILTER",e[e.ORDER=118]="ORDER",e[e.PRODUCT_SHARE_REQUEST=119]="PRODUCT_SHARE_REQUEST",e[e.VV_CHAT=120]="VV_CHAT",e[e.P2A=121]="P2A",e[e.AMINO_VIDEO=123]="AMINO_VIDEO"}(r||(r={})),function(e){e[e.FANS_STATUS_NONE=0]="FANS_STATUS_NONE",e[e.FANS_STATUS_ACTIVE=1]="FANS_STATUS_ACTIVE"}(i||(i={}))},,function(e,t,n){var r,i,s;i=[e,n(108),n(106),n(105)],void 0===(s="function"==typeof(r=function(e,t,n,r){"use strict";var i=a(t),s=a(n),o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===c(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,o.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:function(e){var t=d("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return d("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(s.default);function d(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=l})?r.apply(t,i):r)||(e.exports=s)},,function(e,t,n){var r=n(22);e.exports=function(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}},function(e,t,n){"use strict";var r=n(16),i={time:3e3},s=Object(r.a)().data(function(){return{active:!1,content:"",type:"show"}}).computed({classBind:function(){return{active:this.active,"toast-warn":"warn"===this.type,"toast-success":"success"===this.type,"toast-error":"error"===this.type}}}).methods({delayClose:function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(e){t.active=!1},e)}}).methods({show:function(e,t){void 0===t&&(t=i),e&&(this.active=!0,this.content=e,this.type="show",t.time&&this.delayClose(t.time))}}).methods({warn:function(e,t){void 0===t&&(t=i),this.show(e,t),this.type="warn"},success:function(e,t){void 0===t&&(t=i),this.show(e,t),this.type="success"},error:function(e,t){void 0===t&&(t=i),this.show(e,t),this.type="error"}}).done(),o=(n(101),n(2)),a=Object(o.a)(s,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"global-toast",class:this.classBind},[t("div",{staticClass:"content"},[this._v("\n        "+this._s(this.content)+"\n    ")])])},[],!1,null,null,null);t.a=a.exports},,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){"use strict";function r(e,t){try{return sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}}function i(e){try{return JSON.parse(sessionStorage.getItem(e))}catch(e){}}function s(e){try{return sessionStorage.removeItem(e)}catch(e){}}function o(e,t,n){try{return r(e,{expire:new Date/1e3+n,val:t})}catch(e){}}function a(e){try{var t=i(e),n=t.expire,r=t.val;if(n>new Date/1e3)return r;n&&s(e)}catch(e){}}n.d(t,"d",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return a})},,function(e,t,n){"use strict";var r=n(18);n.n(r).a},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){var r=n(102);e.exports=function(e,t,n,i,s){var o=function(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,o,s),{destroy:function(){e.removeEventListener(n,o,s)}}}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(104),i=n(103);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var s=0,o=r.length;s<o;s++)r[s].fn!==t&&r[s].fn._!==t&&i.push(r[s]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},function(e,t,n){var r,i,s;i=[e,n(107)],void 0===(s="function"==typeof(r=function(e,t){"use strict";var n,r=(n=t)&&n.__esModule?n:{default:n},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return s(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=o})?r.apply(t,i):r)||(e.exports=s)},,function(e,t,n){"use strict";(function(e){for(var n="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],i=0,s=0;s<r.length;s+=1)if(n&&navigator.userAgent.indexOf(r[s])>=0){i=1;break}var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},i))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function c(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function u(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=c(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:l(u(e))}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?d:10===e?h:d||h}function m(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===c(n,"position")?m(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function v(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var o,a,c=s.commonAncestorContainer;if(e!==c&&t!==c||r.contains(i))return"BODY"===(a=(o=c).nodeName)||"HTML"!==a&&m(o.firstElementChild)!==o?m(c):c;var u=p(e);return u.host?v(u.host,t):v(e,p(t).host)}function g(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function _(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function w(){var e=document.body,t=document.documentElement,n=f(10)&&getComputedStyle(t);return{height:b("Height",e,t,n),width:b("Width",e,t,n)}}var T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function I(e){return C({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=g(e,"top"),r=g(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?w():{},o=s.width||e.clientWidth||i.right-i.left,a=s.height||e.clientHeight||i.bottom-i.top,u=e.offsetWidth-o,l=e.offsetHeight-a;if(u||l){var d=c(e);u-=_(d,"x"),l-=_(d,"y"),i.width-=u,i.height-=l}return I(i)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===t.nodeName,s=S(e),o=S(t),a=l(e),u=c(t),d=parseFloat(u.borderTopWidth,10),h=parseFloat(u.borderLeftWidth,10);n&&"HTML"===t.nodeName&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var m=I({top:s.top-o.top-d,left:s.left-o.left-h,width:s.width,height:s.height});if(m.marginTop=0,m.marginLeft=0,!r&&i){var p=parseFloat(u.marginTop,10),v=parseFloat(u.marginLeft,10);m.top-=d-p,m.bottom-=d-p,m.left-=h-v,m.right-=h-v,m.marginTop=p,m.marginLeft=v}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(t,"top"),i=g(t,"left"),s=n?-1:1;return e.top+=r*s,e.bottom+=r*s,e.left+=i*s,e.right+=i*s,e}(m,t)),m}function A(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===c(t,"transform");)t=t.parentElement;return t||document.documentElement}function M(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},o=i?A(e):v(e,t);if("viewport"===r)s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=O(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:g(n),a=t?0:g(n,"left");return I({top:o-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:s})}(o,i);else{var a=void 0;"scrollParent"===r?"BODY"===(a=l(u(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var d=O(a,o,i);if("HTML"!==a.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===c(t,"position")||e(u(t)))}(o))s=d;else{var h=w(),f=h.height,m=h.width;s.top+=d.top-d.marginTop,s.bottom=f+d.top,s.left+=d.left-d.marginLeft,s.right=m+d.left}}return s.left+=n,s.top+=n,s.right-=n,s.bottom-=n,s}function k(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=M(n,r,s,i),a={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(a).map(function(e){return C({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),u=c.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),l=u.length>0?u[0].key:c[0].key,d=e.split("-")[1];return l+(d?"-"+d:"")}function L(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return O(n,r?A(t):v(t,n),r)}function x(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function N(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function R(e,t,n){n=n.split("-")[0];var r=x(e),i={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(n),o=s?"top":"left",a=s?"left":"top",c=s?"height":"width",u=s?"width":"height";return i[o]=t[o]+t[c]/2-r[c]/2,i[a]=n===a?t[a]-r[u]:t[N(a)],i}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function P(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=D(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=I(t.offsets.popper),t.offsets.reference=I(t.offsets.reference),t=n(t,e))}),t}function j(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function V(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],s=i?""+i+n:e;if(void 0!==document.body.style[s])return s}return null}function F(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,n,r){n.updateBound=r,F(e).addEventListener("resize",n.updateBound,{passive:!0});var i=l(e);return function e(t,n,r,i){var s="BODY"===t.nodeName,o=s?t.ownerDocument.defaultView:t;o.addEventListener(n,r,{passive:!0}),s||e(l(o.parentNode),n,r,i),i.push(o)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function U(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,F(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function $(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function B(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&$(t[n])&&(r="px"),e.style[n]=t[n]+r})}function z(e,t,n){var r=D(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var s="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var G=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],W=G.slice(3);function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=W.indexOf(e),r=W.slice(n+1).concat(W.slice(0,n));return t?r.reverse():r}var q={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function J(e,t,n,r){var i=[0,0],s=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=o.indexOf(D(o,function(e){return-1!==e.search(/,|\s/)}));o[a]&&-1===o[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==a?[o.slice(0,a).concat([o[a].split(c)[0]]),[o[a].split(c)[1]].concat(o.slice(a+1))]:[o];return(u=u.map(function(e,r){var i=(1===r?!s:s)?"height":"width",o=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],o=i[2];if(!s)return e;if(0===o.indexOf("%")){var a=void 0;switch(o){case"%p":a=n;break;case"%":case"%r":default:a=r}return I(a)[t]/100*s}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s;return s}(e,i,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){$(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}var K={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,s=i.reference,o=i.popper,a=-1!==["bottom","top"].indexOf(n),c=a?"left":"top",u=a?"width":"height",l={start:E({},c,s[c]),end:E({},c,s[c]+s[u]-o[u])};e.offsets.popper=C({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,s=i.popper,o=i.reference,a=r.split("-")[0],c=void 0;return c=$(+n)?[+n,0]:J(n,s,o,a),"left"===a?(s.top+=c[0],s.left-=c[1]):"right"===a?(s.top+=c[0],s.left+=c[1]):"top"===a?(s.left+=c[0],s.top-=c[1]):"bottom"===a&&(s.left+=c[0],s.top+=c[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||m(e.instance.popper);e.instance.reference===n&&(n=m(n));var r=V("transform"),i=e.instance.popper.style,s=i.top,o=i.left,a=i[r];i.top="",i.left="",i[r]="";var c=M(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=s,i.left=o,i[r]=a,t.boundaries=c;var u=t.priority,l=e.offsets.popper,d={primary:function(e){var n=l[e];return l[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(l[e],c[e])),E({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(l[n],c[e]-("right"===e?l.width:l.height))),E({},n,r)}};return u.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=C({},l,d[t](e))}),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],s=Math.floor,o=-1!==["top","bottom"].indexOf(i),a=o?"right":"bottom",c=o?"left":"top",u=o?"width":"height";return n[a]<s(r[c])&&(e.offsets.popper[c]=s(r[c])-n[u]),n[c]>s(r[a])&&(e.offsets.popper[c]=s(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!z(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],s=e.offsets,o=s.popper,a=s.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",d=u?"Top":"Left",h=d.toLowerCase(),f=u?"left":"top",m=u?"bottom":"right",p=x(r)[l];a[m]-p<o[h]&&(e.offsets.popper[h]-=o[h]-(a[m]-p)),a[h]+p>o[m]&&(e.offsets.popper[h]+=a[h]+p-o[m]),e.offsets.popper=I(e.offsets.popper);var v=a[h]+a[l]/2-p/2,g=c(e.instance.popper),_=parseFloat(g["margin"+d],10),b=parseFloat(g["border"+d+"Width"],10),w=v-e.offsets.popper[h]-_-b;return w=Math.max(Math.min(o[l]-p,w),0),e.arrowElement=r,e.offsets.arrow=(E(n={},h,Math.round(w)),E(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(j(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=M(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=N(r),s=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case q.FLIP:o=[r,i];break;case q.CLOCKWISE:o=Y(r);break;case q.COUNTERCLOCKWISE:o=Y(r,!0);break;default:o=t.behavior}return o.forEach(function(a,c){if(r!==a||o.length===c+1)return e;r=e.placement.split("-")[0],i=N(r);var u=e.offsets.popper,l=e.offsets.reference,d=Math.floor,h="left"===r&&d(u.right)>d(l.left)||"right"===r&&d(u.left)<d(l.right)||"top"===r&&d(u.bottom)>d(l.top)||"bottom"===r&&d(u.top)<d(l.bottom),f=d(u.left)<d(n.left),m=d(u.right)>d(n.right),p=d(u.top)<d(n.top),v=d(u.bottom)>d(n.bottom),g="left"===r&&f||"right"===r&&m||"top"===r&&p||"bottom"===r&&v,_=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(_&&"start"===s&&f||_&&"end"===s&&m||!_&&"start"===s&&p||!_&&"end"===s&&v);(h||g||b)&&(e.flipped=!0,(h||g)&&(r=o[c+1]),b&&(s=function(e){return"end"===e?"start":"start"===e?"end":e}(s)),e.placement=r+(s?"-"+s:""),e.offsets.popper=C({},e.offsets.popper,R(e.instance.popper,e.offsets.reference,e.placement)),e=P(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,s=r.reference,o=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=s[n]-(a?i[o?"width":"height"]:0),e.placement=N(t),e.offsets.popper=I(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!z(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=D(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,s=D(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==s?s:t.gpuAcceleration,a=S(m(e.instance.popper)),c={position:i.position},u={left:Math.floor(i.left),top:Math.round(i.top),bottom:Math.round(i.bottom),right:Math.floor(i.right)},l="bottom"===n?"top":"bottom",d="right"===r?"left":"right",h=V("transform"),f=void 0,p=void 0;if(p="bottom"===l?-a.height+u.bottom:u.top,f="right"===d?-a.width+u.right:u.left,o&&h)c[h]="translate3d("+f+"px, "+p+"px, 0)",c[l]=0,c[d]=0,c.willChange="transform";else{var v="bottom"===l?-1:1,g="right"===d?-1:1;c[l]=p*v,c[d]=f*g,c.willChange=l+", "+d}var _={"x-placement":e.placement};return e.attributes=C({},_,e.attributes),e.styles=C({},c,e.styles),e.arrowStyles=C({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return B(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&B(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var s=L(i,t,e,n.positionFixed),o=k(n.placement,s,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),B(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},X=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=C({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(C({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=C({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return C({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return y(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=k(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=R(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=P(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,j(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[V("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),e}();X.Utils=("undefined"!=typeof window?window:e).PopperUtils,X.placements=G,X.Defaults=K,t.a=X}).call(this,n(38))},function(e,t,n){"use strict";var r={},i=(n(169),n(2)),s=Object(i.a)(r,function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"hover-hint"},[this._t("default")],2)},[],!1,null,null,null);t.a=s.exports},function(e,t,n){"use strict";var r=n(110),i=n(8),s=n(16),o=Object(s.a)().props({placement:{type:String,default:"bottom-end"},iconClass:{type:String,default:"amino-icon amino-icon-splat"}}).data(function(){return{open:!1}}).computed({rootClass:function(){var e;return(e={open:this.open})[this.placement]=!0,e}}).methods({initPopper:function(){this.popper=new r.a(this.$refs.icon,this.$refs.container,{placement:this.placement})},closeMenu:function(){this.open=!1,this.popper&&(this.popper.destroy(),this.popper=null),this.unsub&&(this.unsub(),this.unsub=null)}}).methods({openMenu:function(){this.open=!0,this.$nextTick(this.initPopper),this.unsub=Object(i.a)(this.$el,this.closeMenu)}}).methods({toggle:function(){this.open?this.closeMenu():this.openMenu()}}).lifecycle({beforeDestroy:function(){this.popper&&this.popper.destroy()}}).done(),a=(n(167),n(2)),c=Object(a.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"action-show-menu",class:e.rootClass,on:{click:e.toggle}},[n("i",{ref:"icon",class:e.iconClass}),e._v(" "),e.open?n("div",{ref:"container",staticClass:"popup-container"},[e._t("default")],2):e._e(),e._v(" "),e._t("attachment")],2)},[],!1,null,null,null);t.a=c.exports},,,function(e,t,n){"use strict";t.a={render:function(e){return e("span",{staticClass:"svg-icon-container",class:"lock",domProps:{innerHTML:'<svg viewBox="0 0 12 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.1 3.946v2.125h-.9c-.663 0-1.2.544-1.2 1.215v6.071c0 .671.537 1.214 1.2 1.214h9.6c.663 0 1.2-.543 1.2-1.214V7.286c0-.671-.537-1.215-1.2-1.215h-.9V3.946C9.9 1.766 8.154 0 6 0S2.1 1.767 2.1 3.946zm1.5 2.125V3.946c0-1.341 1.074-2.428 2.4-2.428 1.326 0 2.4 1.087 2.4 2.428v2.125H3.6zm1.2 3.34c0-.671.537-1.215 1.2-1.215.663 0 1.2.544 1.2 1.215 0 .428-.22.804-.549 1.02 0 0 .117.716.249 1.56a.452.452 0 0 1-.45.455h-.9a.452.452 0 0 1-.45-.455l.249-1.56A1.216 1.216 0 0 1 4.8 9.41z" fill-rule="evenodd"/></svg>'}})}}},function(e,t,n){"use strict";t.a={render:function(e){return e("span",{staticClass:"svg-icon-container",class:"img-upload",domProps:{innerHTML:'<svg viewBox="0 0 20 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 0h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1 2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3zm1.102 8.976l2.17-3.528a1 1 0 0 1 1.654-.074l.398.535a1 1 0 0 0 1.623-.026l1.284-1.847a1 1 0 0 1 1.675.049l2.992 4.893a1 1 0 0 1-.853 1.522H4.955a1 1 0 0 1-.853-1.524z"/></svg>'}})}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(40);n.n(r).a},,function(e,t,n){"use strict";var r=n(41);n.n(r).a},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r={};n.d(r,"OBJECT_TYPE",function(){return l.b}),n.d(r,"FANS_STATUS",function(){return l.a}),n.d(r,"CHAT_MESSAGE_TYPE",function(){return o}),n.d(r,"FLAG_TYPE",function(){return a}),n.d(r,"FLAG_TYPE_NAME_MAP",function(){return m}),n.d(r,"FLAG_TYPE_NAME_FULL",function(){return p}),n.d(r,"CHAT_THREAD_TYPE",function(){return d}),n.d(r,"CHAT_MEMBERSHIP_STATUS",function(){return h}),n.d(r,"CHAT_THREAD_CONDITION",function(){return f}),n.d(r,"OBJECT_STATUS_DISABLED",function(){return g}),n.d(r,"CHANGE_SOURCE",function(){return v}),n.d(r,"USER_ROLE_SYSTEM_NEWSFEED",function(){return w}),n.d(r,"USER_ROLE_SYSTEM",function(){return T}),n.d(r,"CHAT_ALERT_OPTION",function(){return b}),n.d(r,"ACCOUNT_MEMBERSHIP_STATUS_NONE",function(){return y}),n.d(r,"ACCOUNT_MEMBERSHIP_STATUS_AMINO_PLUS",function(){return E});var i,s,o,a,c=n(6),u=n(7),l=n(31);!function(e){e[e.USER_GENERAL=0]="USER_GENERAL",e[e.USER_STRIKE=1]="USER_STRIKE",e[e.USER_VOICE_NOTE=2]="USER_VOICE_NOTE",e[e.USER_STICKER=3]="USER_STICKER",e[e.USER_VIDEO=4]="USER_VIDEO",e[e.USER_SHARE_EXTURL=50]="USER_SHARE_EXTURL",e[e.USER_SHARE_OBJECT=51]="USER_SHARE_OBJECT",e[e.USER_CALL_NO_ANSWERED=52]="USER_CALL_NO_ANSWERED",e[e.USER_CALL_CANCELLED=53]="USER_CALL_CANCELLED",e[e.USER_CALL_DECLINED=54]="USER_CALL_DECLINED",e[e.USER_VIDEO_CALL_NO_ANSWERED=55]="USER_VIDEO_CALL_NO_ANSWERED",e[e.USER_VIDEO_CALL_CANCELLED=56]="USER_VIDEO_CALL_CANCELLED",e[e.USER_VIDEO_CALL_DECLINED=57]="USER_VIDEO_CALL_DECLINED",e[e.USER_AVATAR_CALL_NO_ANSWERED=58]="USER_AVATAR_CALL_NO_ANSWERED",e[e.USER_AVATAR_CALL_CANCELLED=59]="USER_AVATAR_CALL_CANCELLED",e[e.USER_AVATAR_CALL_DECLINED=60]="USER_AVATAR_CALL_DECLINED",e[e.INFO_DELETED=100]="INFO_DELETED",e[e.INFO_MEMBER_BECOME_ACTIVE=101]="INFO_MEMBER_BECOME_ACTIVE",e[e.INFO_MEMBER_QUIT=102]="INFO_MEMBER_QUIT",e[e.INFO_SESSION_INIT=103]="INFO_SESSION_INIT",e[e.INFO_BACKGROUND_CHANGE=104]="INFO_BACKGROUND_CHANGE",e[e.INFO_TITLE_CHANGE=105]="INFO_TITLE_CHANGE",e[e.INFO_ICON_CHANGE=106]="INFO_ICON_CHANGE",e[e.INFO_START_AUDIO_CHAT=107]="INFO_START_AUDIO_CHAT",e[e.INFO_START_VIDEO_CHAT=108]="INFO_START_VIDEO_CHAT",e[e.INFO_START_AVATAR_CHAT=109]="INFO_START_AVATAR_CHAT",e[e.INFO_END_AUDIO_CHAT=110]="INFO_END_AUDIO_CHAT",e[e.INFO_END_VIDEO_CHAT=111]="INFO_END_VIDEO_CHAT",e[e.INFO_END_AVATAR_CHAT=112]="INFO_END_AVATAR_CHAT",e[e.INFO_CONTENT_CHANGE=113]="INFO_CONTENT_CHANGE",e[e.INFO_START_SCREENING_ROOM=114]="INFO_START_SCREENING_ROOM",e[e.INFO_END_SCREENING_ROOM=115]="INFO_END_SCREENING_ROOM",e[e.INFO_ORGANIZER_TRANSFERRED=116]="INFO_ORGANIZER_TRANSFERRED",e[e.CLIENT_WELCOME=65281]="CLIENT_WELCOME"}(o||(o={})),function(e){e[e.BULLYING=0]="BULLYING",e[e.INAPPROPRIATE_CONTENT=1]="INAPPROPRIATE_CONTENT",e[e.SPAM=2]="SPAM",e[e.ART_THEFT=3]="ART_THEFT",e[e.OFF_TOPIC=4]="OFF_TOPIC",e[e.TROLLING=5]="TROLLING",e[e.SEXUALLY_EXPLICIT=100]="SEXUALLY_EXPLICIT",e[e.VIOLENT_CONTENT=101]="VIOLENT_CONTENT",e[e.INAPPROPRIATE_REQUESTS=102]="INAPPROPRIATE_REQUESTS",e[e.REPORT_PROBLEM_TO_LEADER=103]="REPORT_PROBLEM_TO_LEADER",e[e.USER_IN_AUDIO_CHAT=104]="USER_IN_AUDIO_CHAT",e[e.USER_IN_VIDEO_CHAT=105]="USER_IN_VIDEO_CHAT",e[e.OTHERS=200]="OTHERS",e[e.OTHERS_VVCHAT=201]="OTHERS_VVCHAT"}(a||(a={}));var d,h,f,m=((i={})[a.BULLYING]=_("Bullying"),i[a.SEXUALLY_EXPLICIT]=_("Sexually Explicit"),i[a.INAPPROPRIATE_REQUESTS]=_("Inappropriate Requests"),i[a.VIOLENT_CONTENT]=_("Extreme Violence"),i[a.SPAM]=_("Spam"),i[a.OTHERS]=_("Other Reason"),i),p=((s={})[a.BULLYING]=_("Report Bullying"),s[a.SEXUALLY_EXPLICIT]=_("Report Sexually Explicit"),s[a.INAPPROPRIATE_REQUESTS]=_("Report Inappropriate Requests"),s[a.VIOLENT_CONTENT]=_("Report Extreme Violence"),s[a.SPAM]=_("Report Spam"),s[a.OTHERS]=_("Report Other Reason"),s);!function(e){e[e.SINGLE=0]="SINGLE",e[e.GROUP=1]="GROUP",e[e.PUBLIC=2]="PUBLIC"}(d||(d={})),function(e){e[e.NONE=0]="NONE",e[e.ACTIVE=1]="ACTIVE",e[e.INVITE_SENT=2]="INVITE_SENT",e[e.JOIN_REQUESTED=3]="JOIN_REQUESTED"}(h||(h={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.PUBLIC_OPEN=1]="PUBLIC_OPEN",e[e.AUTHORABSENT=2]="AUTHORABSENT"}(f||(f={}));var v,g=9;!function(e){e[e.LOAD_OLD=0]="LOAD_OLD",e[e.LOOP_NEW=1]="LOOP_NEW",e[e.SELF_ADD=2]="SELF_ADD",e[e.INITIAL_LOAD=3]="INITIAL_LOAD"}(v||(v={}));var b,w=253,T=254;!function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.SILENT=2]="SILENT"}(b||(b={}));var y=0,E=1;var C={inserted:function(e,t){var n=parseInt(t.value||40,10);if(e.classList.add("scroll-self"),!getComputedStyle(e).overscrollBehavior){var r=function(e,t){return function(n){var r=-n.deltaY||-n.detail;e.scrollTop+=(r<0?1:-1)*t,n.preventDefault()}}(e,n);!function(e,t){e.__scroll_listener__=t}(e,r),e.addEventListener("wheel",r)}},unbind:function(e){e.classList.remove("scroll-self");var t=function(e){var t=e.__scroll_listener__;return e.__scroll_listener__=null,t}(e);t&&e.removeEventListener("wheel",t)}};var I=n(15);function S(e,t){if(null==e)throw TypeError();var n=String(e),r=n.length,i=t?Number(t):0;if(i!=i&&(i=0),!(i<0||i>=r)){var s,o=n.charCodeAt(i);return o>=55296&&o<=56319&&r>i+1&&(s=n.charCodeAt(i+1))>=56320&&s<=57343?[1024*(o-55296)+s-56320+65536,2]:[o,1]}}var O=ServerData.community?ServerData.community.ndcId:"x0",A=window.top===window;function M(e){switch(e){case o.INFO_DELETED:return _("deleted a message.");case o.INFO_MEMBER_BECOME_ACTIVE:return _("has joined the conversation.");case o.INFO_MEMBER_QUIT:return _("has left the conversation.");case o.INFO_TITLE_CHANGE:return _("changed the title.");case o.INFO_ICON_CHANGE:return _("changed the cover image.");case o.INFO_SESSION_INIT:return _("started the conversation.");case o.INFO_CONTENT_CHANGE:return _("changed the welcome message.")}}function k(e){if(!e||!ServerData.userInfo)return null;var t=ServerData.userInfo.uid;if(e.author&&e.author.uid!==t)return e.author;var n=e.membersSummary.filter(function(e){return e.uid!==t});return n?n[0]:e.membersSummary[1]}function L(e){var t=e.membershipStatus;return e.type===d.SINGLE&&t===h.INVITE_SENT}function x(e){return e&&e.type===o.USER_GENERAL&&e.mediaType===l.b.IMAGE}function N(e){return e.type===o.INFO_MEMBER_BECOME_ACTIVE&&e.author.uid===ServerData.userInfo.uid}var R=document.createElement("div");function D(e){if(!e)return"";var t=function(e){e=e.trim();var t=P.exec(e);if(!t)return[e,""];for(var n=[],r=0,i=t[1].toUpperCase().split("");r<i.length;r++){var s=i[r];n.push(j[s])}return[e.replace(P,""),n.join(" ")]}(e),n=t[0],r=t[1];return"<p"+(r?' class="'+r+'"':"")+">"+(n=function(e){return e.replace(/https?:\/\/[a-zA-Z0-9;,/?:@&=+$_.!~*#-]+/g,function(e){var t=0===e.indexOf(location.origin)?'target="_parent"':' target="_blank" rel="nofollow noreferrer noopener"';return'<a href="'+e+'"'+t+">"+e+"</a>"})}(n))+"</p>"}var P=/\[([BICUS]+)\]/i,j={B:"bolder",I:"italic",C:"center",U:"underline",S:"strike"};function V(e){var t={target:"",width:"",height:"",uhq:"",dateNo:"",hash:"",extension:"",size:""};if("string"!=typeof e)return t;var n=e.split("/"),r=n.length;if(r<2)return t;t.dateNo=n[r-2];var i=n[r-1].split(/r\d+-/);if(2===i.length){t.hash=i[0],t.target=/r\d+/.exec(n[r-1])[0];var s=/^(\d+)-(\d+)(v2)?_([^.]+)\.([^.]+)$/.exec(i[1]);t.width=s[1],t.height=s[2],t.uhq=s[3]||"",t.size=s[4],t.extension=s[5]}else if(1===i.length){var o=i[0].split(/_|\./),a=o[0],c=o[1],u=o[2];t.hash=a,t.size=c,t.extension=u}return t}function F(e){return e?e.role===w?"Newsfeed":e.role===T?"Team Amino":e.nickname:""}var H=!1,U=new Image;U.onload=function(){H=!0},U.src="data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoBAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA==";var $="ndcsticker://e/";function B(e){var t=e.mediaValue;if(0!==t.indexOf($))return function(e,t){if(H)return e;if(e.indexOf(".webp")>=0)try{return t.extensions.sticker.icon}catch(e){return console.error("bad message",t),""}return e}(t,e);var n,r,i=function(e){for(var t=[];e.length>=2;){var n=e.substring(0,2);t.push(parseInt(n,16)),e=e.substring(2)}return t}(t.replace($,"")),s=function(e){for(var t=0,n=[];t<e.length;){var r=S(e,t),i=r[0],s=r[1];n.push(i),t+=s}return n}((n=i,r=String.fromCharCode.apply(null,n),decodeURIComponent(escape(r)))).map(function(e){return e.toString(16)}).join("-");return window.assetURLPrefix+"/emojione_ios/"+s+".png"}var z=n(99),G=ServerData.userInfo&&ServerData.userInfo.uid,W="CHAT_DRAFT_KEY-"+G;var Y=new c.default;function q(){try{return localStorage.getItem("chat-window-minimized")}catch(e){return!1}}var J=ServerData.userInfo,K={};function X(){return(new Date).toISOString().replace(/\.\d+/,"")}var Q=9e5,Z=[o.USER_GENERAL,o.USER_VOICE_NOTE,o.USER_STICKER,o.INFO_DELETED,o.INFO_MEMBER_BECOME_ACTIVE,o.INFO_MEMBER_QUIT,o.INFO_TITLE_CHANGE,o.INFO_ICON_CHANGE,o.INFO_CONTENT_CHANGE,o.INFO_SESSION_INIT];function ee(e,t,n){for(var r=0,i=e;r<i.length;r++){i[r].index+=n}var s=e[0];s||(s={index:t.length-1,time:Date.now()},e.unshift(s));for(var o=n-1;o>=0;o--){var a=t[o];if(-1!==Z.indexOf(a.type)&&a.author.status!==g){var c=+new Date(a.createdTime);s.time-c>Q&&(s={index:o,time:c},e.unshift(s))}}}function te(e,t){if(Boolean(e.isPinned)!==Boolean(t.isPinned))return e.isPinned?-1:1;var n=+(e.membershipStatus===h.NONE);return 0==(n^+(t.membershipStatus===h.NONE))?function(e,t){var n=ne(e),r=ne(t);return n>r?-1:n<r?1:0}(e,t):n?-1:1}function ne(e){return e.latestActivityTime||e.lastMessageSummary&&e.lastMessageSummary.createdTime||e.createdTime}function re(e,t,n){var r=e.messages;e.messageChangeSource=v.LOOP_NEW;var i=e.addedMessageCount=function(e,t,n){for(var r=e.messages,i=r.slice(-n),s=i.length,o=0;o<t.length;o++)i.push(t[o]);var a=(i=Object(I.d)(i,function(e){return e.messageId})).length,c=e.currentThread;if(c&&c.type!==d.SINGLE)for(o=s;o<a;o++)r.push(Object(I.c)(i[o])),ie(e,i[o]),Y.$emit("msg",i[o]);else for(o=s;o<a;o++)r.push(Object(I.c)(i[o])),Y.$emit("msg",i[o]);return a-s}(e,t,n);if(function(e,t,n){var r=e[e.length-1];r||(r={index:0,time:o=t[0]?+new Date(t[0].createdTime):Date.now()},e.push(r));for(var i=t.length,s=i-n;s<i;s++){var o,a=t[s];-1!==Z.indexOf(a.type)&&(o=+new Date(a.createdTime))-r.time>Q&&(r={index:s,time:o},e.push(r))}}(e.timestamps,r,i),t.length){var s=t[t.length-1];if(s.messageId===e.currentThread.lastMessageSummary.messageId)return;e.currentThread.lastMessageSummary=s,e.currentThread.latestActivityTime=s.createdTime,e.currentThread.lastReadTime=s.createdTime}}function ie(e,t){var n=e.currentThread;N(t)&&(e.messages.push({author:n.author,content:n.content,type:o.CLIENT_WELCOME,createdTime:t.createdTime,threadId:n.threadId}),e.messageChangeSource=v.SELF_ADD)}function se(e,t){if(e.currentThread){var n=e.currentThread,r=X();n.lastReadTime=r>n.latestActivityTime?r:n.latestActivityTime,function(e,t){if(e.lastMessageSummary&&!e.lastMessageSummary.messageId){for(var n,r=t.length-1;r>=0;r--)t[r].messageId&&(n=t[r]);n?e.lastMessageSummary=n:console.error("unexpected empty lastMessage!")}}(n,e.messages)}e.currentThread=t,t&&(t.lastReadTime=X()),e.showRightSidebar=!1}function oe(e,t){var n=e.messages,r=Object(I.b)(n,function(e){return!e.messageId&&e.clientRefId===t.clientRefId});r>=0&&n.splice(r,1),e.pendingMessageNumber-=1,e.pendingMessageNumber=Math.max(0,e.pendingMessageNumber)}var ae={mergeMessages:function(e,t){var n=t.msgs,r=t.size,i=e.messages;e.messageChangeSource=v.LOAD_OLD;var s=e.addedMessageCount=function(e,t,n){for(var r=e.slice(0,n),i=r.length,s=t.length-1;s>=0;s--)r.unshift(t[s]);var o=(r=Object(I.d)(r,function(e){return e.messageId})).length-i;for(s=o-1;s>=0;s--)e.unshift(Object(I.c)(r[s]));return o}(i,n,r);ee(e.timestamps,i,s)},mergeThreads:function(e,t){e.addedThreadCount=function(e,t,n){for(var r=0,i=0,s=n.length;i<s;i++){var o=n[i],a=t[o.threadId];if(void 0!==a)for(var u=0,l=Object.keys(o);u<l.length;u++){var d=l[u];c.default.set(a,d,o[d])}else e.push(o),t[o.threadId]=o,r++}return e.sort(te),r}(e.threadList,e.threadMap,t)},addOneThread:function(e,t){var n=t.thread,r=n.threadId;e.threadMap[r]||(e.threadMap[r]=n,e.threadList.unshift(n),e.threadList.sort(te))},updateThreads:function(e,t){!function(e,t,n,r){for(var i=0,s=n;i<s.length;i++){var o=s[i],a=o[0],c=o[1],u=o[2],l=o[3],d=t[a];d&&(d.latestActivityTime<c&&(d.latestActivityTime=c),d.lastReadTime<u&&(d.lastReadTime=u),d.alertOption=l)}e.sort(te)}(e.threadList,e.threadMap,t,e.currentThread)},setThread:function(e,t){se(e,t),e.loadingMessage=!0},joinThread:function(e,t){var n=e.threadMap[t];n&&(n.membershipStatus=h.ACTIVE),e.showRightSidebar=!1},setThreadAlert:function(e,t){var n=t.threadId,r=t.alertOption;e.currentThread&&e.currentThread.threadId===n&&(e.currentThread.alertOption=r)},toggleRightSidebar:function(e,t){e.showRightSidebar=t,t||(e.miniProfileAsync={state:"resting"})},leaveThread:function(e,t){var n=t.threadId,r=Object(I.b)(e.threadList,function(e){return e.threadId===n});r>=0&&(e.threadList.splice(r,1),c.default.delete(e.threadMap,n))},setMessages:function(e,t){e.messages=t,e.messageChangeSource=v.INITIAL_LOAD,e.timestamps=[],ee(e.timestamps,t,t.length),e.loadingMessage=!1},mergeLoopMessages:function(e,t){re(e,t.newMsgs,t.size+e.pendingMessageNumber)},addPendingMessage:function(e,t){var n=e.currentThread.threadId,r=K[n]||0;t.clientRefId=r,t.author=J,t.createdTime=X(),K[n]=r+1,e.messages.push(t),e.messageChangeSource=v.SELF_ADD,e.currentThread.lastMessageSummary=t,e.pendingMessageNumber+=1},deleteSending:function(e,t){e.currentThread&&oe(e,t)},confirmSendMessage:function(e,t){if(e.currentThread&&e.currentThread.threadId===t.threadId){oe(e,t);var n=e.messages;e.currentThread.threadId===t.threadId&&-1===Object(I.b)(n,function(e){return e.messageId===t.messageId})&&(!function(e){if(e.length<=0)return!1;var t=e[e.length-1];return x(t)&&!/^http/.test(t.mediaValue)}(n)?n.push(t):n.splice(n.length-1,0,t)),e.currentThread.latestActivityTime=X(),e.threadList.sort(te)}},setSingleChatPartner:function(e,t){var n=k(e.currentThread);(!t||n&&n.uid===t.uid)&&(e.singleChatPartner=t,t&&(n.icon=t.icon))},setMiniProfileAsync:function(e,t){e.miniProfileAsync=t},toggleFollowStatus:function(e,t){t.membershipStatus^=1,1&t.membershipStatus?t.membersCount+=1:t.membersCount-=1},toggleMinimize:function(e){e.isMinimizedView=!e.isMinimizedView},toggleMaximize:function(e,t){void 0===t&&(t=void 0),e.isMaximizedView=void 0!==t?t:!e.isMaximizedView},startDragFile:function(e){var t=e.currentThread;if(t&&t.status!==g&&t.status!==f.AUTHORABSENT){var n=t.membershipStatus,r=n===h.INVITE_SENT;(n===h.ACTIVE||t.type===d.SINGLE&&r)&&(e.waitDragging=!0)}},endDragFile:function(e){e.waitDragging=!1},toggleHasMessageWhenMinimized:function(e,t){e.hasMessagesWhenMinimized=t},setDraft:function(e,t){var n,r=t.threadId,i=t.text;i?c.default.set(e.draftMessages,r,i):c.default.delete(e.draftMessages,r),n=e.draftMessages,G&&Object(z.d)(W,n)},setThreadForTracker:function(e,t){},openChatWindowForTrack:function(e){}};var ce=n(4);function ue(e){var t=e.ndcId,n=e.threadId,r=e.stoptime,i=e.starttime,s=e.size,o=void 0===s?10:s;return Object(ce.i)("chat-thread-messages",{ndcId:t,threadId:n,stoptime:r,size:o,starttime:i}).then(function(e){return e.originalResult})}function le(e){var t=e.ndcId,n=e.start,r=void 0===n?0:n,i=e.size,s=void 0===i?10:i;return Object(ce.c)("chat/live-threads",{ndcId:t,start:r,size:s})}function de(e){var t=e.ndcId,n=e.threadId;return Object(ce.i)("get-one-thread",{ndcId:t,threadId:n})}function he(e){var t=e.ndcId,n=e.userId;return Object(ce.i)("chat/get-user-profile",{ndcId:t,userId:n}).then(function(e){return e.userProfile})}function fe(e){var t=e.ndcId,n=e.collectionId,r=t?{ndcId:t,collectionId:n}:{collectionId:n},i="collection-sticker:"+n,s=function(e){try{return JSON.parse(sessionStorage.getItem(e))}catch(e){}}(i);return s?Promise.resolve(s):Object(ce.i)("/api/chat-stickers",r).then(function(e){var t=e.stickerCollection;return function(e,t){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}}(i,t),t})}var me,pe,ve,ge,_e=window.top!==window,be=ServerData.community?ServerData.community.ndcId:"x0",we={0:5e3,10:1e4,20:15e3,60:3e4,300:45e3},Te={0:5e3,10:1e4,20:15e3,60:3e4,300:45e3},ye={0:3e4,10:61e4,20:615e3,60:63e4},Ee={0:65e3,10:61e4,20:615e3,60:63e4},Ce=!1;function Ie(e){var t=e.hasWebSocket,n=e.hasThreadAlert;!0===t?(Ce=!0,pe=Ee):!1===t&&(Ce=!1,me=we,pe=Te),!0===n?me=Ce?ye:we:!1===n&&(me=we)}Ie({hasWebSocket:!1,hasThreadAlert:!1});var Se=0,Oe=0;function Ae(){return _e||document.hidden}function Me(e,t,n){!0===_e&&!1===t&&e.commit("openChatWindowForTrack",n),void 0!==t&&(_e=t),Ae()?(clearTimeout(ve),clearTimeout(ge),ve=void 0,ge=void 0):(Se=0,Oe=0,e.state.loadingMessage||(ve||Re(e,100),ge||De(e,100)))}function ke(e){return clearTimeout(ve),ve=void 0,Ae()?Promise.resolve():xe(e)}function Le(e){switch(e.type){case"setThread":case"confirmSendMessage":Se=0}}function xe(e){var t=e.state,n=e.commit;if(t.currentThread){var r=t.currentThread.threadId,i=t.messages,s={ndcId:be,threadId:r,size:25},o=i.length>0?i[i.length-1].createdTime:void 0;return o&&(s.starttime=o),ue(s).then(function(i){if(t.currentThread&&r===t.currentThread.threadId){n("mergeLoopMessages",{newMsgs:i,size:25});var s=Pe(Se+=i.length>1?0:1,me);t.currentThread&&r===t.currentThread.threadId&&Re(e,s)}}).catch(function(t){console.error(t);var n=Pe(Se+=10,me);Re(e,n)})}}function Ne(e){var t,n;(t={ndcId:be},n=t.ndcId,Object(ce.i)("thread-check",{ndcId:n})).then(function(t){!function(e,t){for(var n=t.state,r=t.commit,i=!1,s=n.threadMap,o=function(e){var t=s[e];t?t.needHidden||(i=!0,ue({ndcId:be,threadId:e,size:1}).then(function(e){t.lastMessageSummary=e[0],Y.$emit("msg",t.lastMessageSummary)})):(i=!0,de({ndcId:be,threadId:e}).then(function(e){var t=e.thread;r("addOneThread",{thread:t}),Y.$emit("msg",t.lastMessageSummary)}))},a=0,c=e;a<c.length;a++){var u=c[a][0];o(u)}r("updateThreads",e);for(var l=n.currentThread,d=0,h=e;d<h.length;d++){var f=h[d],u=f[0],m=f[1];u===l.threadId&&l.lastReadTime<=m&&ke(t)}i?Oe=0:Oe++}(t.threadCheckResult,e);var n=Pe(Oe,pe);De(e,n)}).catch(function(t){console.error(t);var n=Pe(Oe+=10,pe);De(e,n)})}function Re(e,t){Ae()||(ve=setTimeout(function(){xe(e)},t))}function De(e,t){Ae()||(ge=setTimeout(function(){Ne(e)},t))}function Pe(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e<=+i)return t[i]}return 1926081788}function je(e,t){var n=window.top;n&&n!==window?("closeChatWindow"===e&&Me(hi,!0),n.postMessage({type:e,payload:t,identity:"chat"},location.origin)):console.error("bad embedder!",e,t)}function Ve(e){return"chat-last-thread-"+e}for(var Fe={},He=0,Ue=ServerData.threadList;He<Ue.length;He++){var $e=Ue[He];Fe[$e.threadId]=$e}var Be={threadList:ServerData.threadList,currentThread:null,messages:[],timestamps:[],emptyRun:0,threadMap:Fe,singleChatPartner:null,messageChangeSource:null,miniProfileAsync:{state:"resting"},showRightSidebar:!1,loadingMessage:!1,isMinimizedView:!1,isMaximizedView:function(){try{var e=window.top;return!(!e||e===window)&&e.document.querySelector(".chat-window-container").classList.contains("maximized")}catch(e){return!1}}(),hasMessagesWhenMinimized:!1,pendingMessageNumber:0,waitDragging:!1,addedMessageCount:0,addedThreadCount:0,draftMessages:G&&Object(z.a)(W)||{}},ze=ServerData.community?ServerData.community.ndcId:"x0",Ge=ServerData.userInfo;var We=null,Ye=function(e){return e}({setThread:function(e,t){var n=e.state,r=e.commit,i=e.dispatch;if(!function(e,t){return e&&t&&t.threadId===e.threadId}(n.currentThread,t)&&(r("setThread",t),r("setSingleChatPartner",null),r("setMiniProfileAsync",{state:"resting"}),We&&(clearTimeout(We),We=null),t))return new Promise(function(e){We=setTimeout(function(){e(i("setThreadAux",t))},200)})},setThreadAux:function(e,t){var n,r,i=e.commit,s=e.state,o=e.dispatch,a=e.getters;t.type===d.SINGLE&&o("queryUserDetail",k(t));return t.membershipStatus===h.ACTIVE&&(n=ze,r=t.threadId,localStorage.setItem(Ve(n),r)),a.threadAllRead&&je("threadAllRead",ze.replace("x","")),Ie({hasThreadAlert:t.membershipStatus===h.ACTIVE&&void 0!=t.alertOption&&t.alertOption!==b.OFF}),ue({ndcId:ze,threadId:t.threadId,size:25}).then(function(e){if(s.currentThread.threadId===t.threadId){var n,r=[].slice.call(e);r.length>0&&(n={ndcId:ze,threadId:t.threadId,messageId:r[0].messageId},Object(ce.i)("chat/mark-thread-read",n)),i("setMessages",r)}}).catch(function(e){console.error(e),i("setMessages",[])})},addPendingMessage:function(e,t){var n=e.state,r=e.commit;n.currentThread&&r("addPendingMessage",t)},confirmSendMessage:function(e,t){var n=e.state,r=e.commit,i=e.dispatch,s=n.currentThread;if(s){var o=s.threadId,a=Promise.resolve();return L(s)&&(a=i("joinThread",o)),a.then(function(){return function(e){var t=e.ndcId,n=e.threadId,r=e.message;return Object(ce.i)("add-chat-message",{ndcId:t,threadId:n,message:r}).then(function(e){return e.originalResult})}({ndcId:ze,message:t,threadId:o})}).then(function(e){e=Object.assign({},t,e),r("confirmSendMessage",e)})}},joinThread:function(e,t){return function(e){var t=e.ndcId,n=e.threadId;return Object(ce.i)("join-thread",{ndcId:t,threadId:n})}({ndcId:ze,threadId:t}).then(function(n){e.commit("joinThread",t),ke(e)})},leaveThread:function(e,t){var n=e.state,r=e.dispatch,i=e.commit,s=n.threadMap[t],o=Promise.resolve();return s&&L(s)&&(o=r("joinThread",t)),o.then(function(){return function(e){var t=e.ndcId,n=e.threadId;return Object(ce.i)("leave-thread",{ndcId:t,threadId:n})}({ndcId:ze,threadId:t})}).then(function(){var e,o=n.currentThread.threadId===t;if(i("leaveThread",s),e=ze,localStorage.removeItem(Ve(e)),o){var a=n.threadList[0];r("setThread",a)}})},setThreadAlert:function(e,t){var n=e.state,r=e.commit;if(n.currentThread){var i={threadId:n.currentThread.threadId,alertOption:t};return function(e,t){var n=t.threadId,r=t.alertOption;return Object(ce.i)("/api/chat-thread/alert",{ndcId:e,threadId:n,alertOption:r})}(ze,i).then(function(){r("setThreadAlert",i)})}},addOneThread:function(e,t){var n=e.state,r=e.commit,i=e.dispatch,s=t.threadId,o=t.source,a=t.action;r("setThreadForTracker",{threadId:s,source:o,action:a}),n.threadMap[s]?i("setThread",n.threadMap[s]):de({ndcId:ze,threadId:s}).then(function(e){var t=e.thread;r("addOneThread",{thread:t,source:o}),i("setThread",t)})},receiveSingleChat:function(e,t){e.state;var n=e.commit,r=e.dispatch,i=t.thread,s=t.source,o=t.action;n("addOneThread",{thread:i,source:"profile_page"}),n("setThreadForTracker",{source:s,action:o,threadId:i.threadId}),r("setThread",i)},openMiniProfile:function(e,t){var n=e.state,r=e.commit;r("setMiniProfileAsync",{state:"fetching",uid:t.uid}),he({ndcId:ze,userId:t.uid}).then(function(e){var i=n.miniProfileAsync;"fetching"===i.state&&i.uid===t.uid&&r("setMiniProfileAsync",{state:"fetched",user:e})}).catch(function(e){r("setMiniProfileAsync",{state:"resting"})}),r("toggleRightSidebar",!0)},queryUserDetail:function(e,t){var n=e.commit;he({ndcId:ze,userId:t.uid}).then(function(e){n("setSingleChatPartner",e)})},toggleFollow:function(e){var t=e.getters,n=e.commit;if(!t.miniProfile)return Promise.resolve();var r=t.miniProfile.uid,i=t.miniProfile.membershipStatus,s={ndcId:ze,followerId:Ge.uid,followeeId:r};return(1&i?function(e){var t=e.ndcId,n=e.followeeId,r=e.followerId;return Object(ce.i)("/api/unfollow-user",{ndcId:t,followee_id:n,follower_id:r})}(s):function(e){var t=e.ndcId,n=e.followeeId;return Object(ce.i)("/api/follow-user",{ndcId:t,followee_id:n})}(s)).then(function(){n("toggleFollowStatus",t.miniProfile)})},loadOldMessages:function(e,t){var n=e.state,r=(e.commit,n.currentThread.threadId),i=n.messages[0],s=i&&i.createdTime;return ue({ndcId:ze,threadId:r,stoptime:s,size:t})},rotateThread:function(e,t){var n=e.state,r=e.dispatch,i=e.commit,s=n.threadList,o=s.indexOf(n.currentThread);if(!(o<0)){var a=o+t;a<0||a>=s.length||(i("setThreadForTracker",{threadId:s[a].threadId,source:"chat_thread_list",action:"click"}),r("setThread",s[a]))}},toggleMinimize:function(e){var t=e.state,n=e.commit;je("toggleMinimize",!t.isMinimizedView),n("toggleMaximize",!1),t.isMinimizedView?(n("toggleHasMessageWhenMinimized",!1),setTimeout(function(){n("toggleMinimize")},300)):n("toggleMinimize")},toggleMaximize:function(e){var t=e.state,n=e.commit;je("toggleMaximize",!t.isMaximizedView),n("toggleMaximize")},websocktChatMessage:function(e,t){var n=t.ndcId,r=t.chatMessage,i=e.state,s=e.commit,o=r.threadId;if(i.currentThread&&i.currentThread.threadId===o&&!i.messages.some(function(e){return!e.messageId&&e.clientRefId===r.clientRefId}))s("mergeLoopMessages",{newMsgs:[r],size:25});else if("x"+n===ze){var a=e.state.threadMap[o];a?a.needHidden||(a.lastMessageSummary=r,a.latestActivityTime=X(),r.author.uid===Ge.uid&&(a.lastReadTime=X()),Y.$emit("msg",a.lastMessageSummary)):de({ndcId:ze,threadId:o}).then(function(t){var n=t.thread;e.commit("addOneThread",{thread:n,source:void 0}),Y.$emit("msg",n.lastMessageSummary)})}},webSocketPushMessage:function(e,t){if(Ae())return je("newMessageInNdc",t.ndcId),void je("sendNotification",t);t.tid;var n=e.state;n.currentThread&&t.tid===n.currentThread.threadId||("x"+t.ndcId===ze?je("newMessageInNdc",t.ndcId):(je("newMessageInNdc",t.ndcId),je("sendNotification",t)))}});var qe=function(){try{return JSON.parse(localStorage.getItem("global-block-"+ServerData.userInfo.uid)).obj}catch(e){return{blockedUidList:[],blockerUidList:[]}}}(),Je=ServerData.community&&ServerData.community.leaderId||"",Ke=ServerData.userInfo&&ServerData.userInfo.uid;function Xe(e){var t=e.miniProfileAsync;return"resting"===t.state?e.singleChatPartner:"fetching"===t.state?null:t.user}var Qe,Ze,et=function(e){return e}({threadAllRead:function(e){return e.threadList.every(function(e){return e.latestActivityTime<=e.lastReadTime})},organizer:function(e){return e.currentThread&&e.currentThread.author},miniProfile:function(e){return Xe(e)},isMySelf:function(e){var t=Xe(e);return!!t&&t.uid===Ke},isSystemLike:function(e){var t=Xe(e);if(!t)return!1;var n=t.role;return n===T||n===w},isPartnerBlocked:function(e){if(Ke&&Je&&Ke===Je)return!1;var t=Xe(e);if(!t)return!1;var n=t.uid;return qe.blockedUidList.indexOf(n)>-1},isBlockedByPartner:function(e){if(Ke&&Je&&Ke===Je)return!1;var t=Xe(e);if(!t)return!1;var n=t.uid;return n!==Je&&qe.blockerUidList.indexOf(n)>-1},isCurrentThreadSendable:function(e){var t=e.currentThread;if(!t||t.status===g||t.status===f.AUTHORABSENT)return!1;var n=t.membershipStatus,r=n===h.INVITE_SENT;return n===h.ACTIVE||t.type===d.SINGLE&&r},isCurrentThreadFanClubExpired:function(e){var t=e.currentThread,n=ServerData.userInfo;if(!(t&&t.author&&n&&n.fanClubList))return!1;var r=t.author.uid,i=n.fanClubList,s=Object(I.b)(i,function(e){return e.targetUid===r});return s>=0&&Date.now()>new Date(i[s].expiredTime).getTime()}}),tt=n(8),nt=((Qe={})[d.SINGLE]="1-1_chat",Qe[d.GROUP]="group_chat",Qe[d.PUBLIC]="public_chat",Qe),rt=((Ze={})[d.SINGLE]="1-1",Ze[d.GROUP]="Group",Ze[d.PUBLIC]="Public",Ze),it={sidebar_public_chatrooms:"Sidebar Public Chat",suggested_public_chatrooms:"Suggested Public Chat",chat_thread_page:"Chat Thread Page",my_chats:"My Chats",sidebar_community_list:"Sidebar Community List",community_card:"Community Card",profile_page:"User Profile",chat_thread_list:"Chat Thread List",minimized_chat_window:"Minimized Chat Window"},st=function(e){!function(e){var t=new URL(location.href),n=t.searchParams.get("source"),r=t.searchParams.get("action");n&&r&&e.state.currentThread&&at({source:n,action:r},e)}(e);e.subscribe(function(t){return function(e,t){var n=t.type,r=t.payload,i=e.state,s=i.currentThread||{};switch(n){case"toggleRightSidebar":if(!i.showRightSidebar)break;var a=nt[s.type];Object(tt.c)({eventCategory:"Check Chat Info",eventAction:"click",eventLabel:a}),collectTEA("chat_info_page_opened",{type:rt[s.type],source:"Chat Thread"});break;case"setThreadForTracker":(s.threadId!==r.threadId||lt)&&(lt=!1,at({source:r.source,action:r.action},e));break;case"openChatWindowForTrack":r?(Object(tt.c)({eventCategory:"Enter Chat Thread",eventLabel:r.source,eventAction:r.action}),m(r.source)):lt=!0;break;case"addOneThread":var c=r.thread,u=r.source;ut[c.threadId]=u;break;case"toggleFollowStatus":var d=r,h=1&d.membershipStatus?"Follow":"Unfollow",f=1&d.membershipStatus?"follow_user":"unfollow_user";Object(tt.c)({eventCategory:h,eventAction:"submit",eventLabel:"chat_info"}),collectTEA(f,{source:"Chat Info"});break;case"leaveThread":var a=nt[r.type];Object(tt.c)({eventCategory:"Leave Conversation",eventAction:"click",eventLabel:a}),collectTEA("leave_conversation",{type:rt[r.type],source:"Chat Info Page"});break;case"joinThread":var u=ut[r]||"my_chats";Object(tt.c)({eventCategory:"Join Group Chat",eventAction:"click",eventLabel:u});var c=i.currentThread;if(!c)return;collectTEA("join_chat_thread",{type:rt[c.type],source:it[u]});break;case"toggleMinimize":i.isMinimizedView?(Object(tt.c)({eventCategory:"Minimize Chat Window",eventAction:"click"}),collectTEA("resize_chat_thread",{type:"shrink"})):(Object(tt.c)({eventCategory:"Enter Chat Thread",eventAction:"click",eventLabel:"minimized_chat_window"}),m("minimized_chat_window"),collectTEA("resize_chat_thread",{type:"restore"}));break;case"toggleMaximize":i.isMaximizedView?collectTEA("resize_chat_thread",{type:"expand"}):collectTEA("resize_chat_thread",{type:"restore"});break;case"confirmSendMessage":var c=i.currentThread;if(!c)return;collectTEA("chat_message_sent",{type:rt[c.type],message_type:function(e){var t=e.type;return t===o.USER_STICKER||e.mediaType===l.b.STICKER?e.stickerType:t===o.USER_GENERAL?e.mediaType===l.b.IMAGE?"Photo":e.mediaType===l.b.YOUTUBE?"Youtube":"Text":t===o.USER_VOICE_NOTE?"Voice Note":"Other"}(r),source:"Chat Thread"})}function m(e){var t=i.currentThread;t&&collectTEA("enter_chat_thread",{type:rt[t.type],gated:t.extensions&&t.extensions.fansOnly?"True":"False",source:it[e]})}}(e,t)})},ot=null;function at(e,t){var n=e.source,r=e.action;null!==ot&&(clearTimeout(ot),ot=null),ot=setTimeout(function(){Object(tt.c)({eventCategory:"Enter Chat Thread",eventAction:r,eventLabel:n});var e=t.state.currentThread;e&&collectTEA("enter_chat_thread",{type:rt[e.type],gated:e.extensions&&e.extensions.fansOnly?"True":"False",source:it[n]}),ot=null},1e3)}var ct,ut={},lt=!0;function dt(e){var t=function(){var e=window.webSocketURL;if(e)try{var t=new ht;return t.setupWebSocket(e),t}catch(e){console.error(e),collectTEA("websocket_connection_fail",{type:"init"})}}();return t?(t.registerHandler(ct.PUSH_MESSAGE,function(t){var n=t.payload;n&&(Ie({hasWebSocket:!0}),e.dispatch("webSocketPushMessage",n))}),t.registerHandler(ct.CHAT_MESSAGE,function(n){if(n.chatMessage){Ie({hasWebSocket:!0}),e.dispatch("websocktChatMessage",n);var r=e.state.currentThread,i=n.chatMessage.threadId;t.send(ct.CHAT_MESSAGE_ACK,{ndcId:n.ndcId,threadId:i,messageId:n.chatMessage.messageId,createdTime:(new Date).toISOString(),markHasRead:Boolean(r&&r.threadId===i)})}}),t.onAbjure=function(t){var n;Ie({hasWebSocket:!1}),ke(e),n=e,clearTimeout(ge),ge=void 0,Ae()?Promise.resolve():Ne(n),collectTEA("websocket_connection_fail",{type:t})},t):null}!function(e){e[e.PUSH_MESSAGE=10]="PUSH_MESSAGE",e[e.CHAT_MESSAGE=1e3]="CHAT_MESSAGE",e[e.CHAT_MESSAGE_ACK=1001]="CHAT_MESSAGE_ACK"}(ct||(ct={}));var ht=function(){function e(){this.handlerCollection={},this.failedNum=0,this.onAbjure=function(e){}}return e.prototype.setupWebSocket=function(e){var t=this,n=Date.now();this.websocket=new WebSocket(e),this.websocket.onopen=function(){var t=e.match(/^.+(?=\?)/)||["unknown url"];collectTEA("websocket_connection_time",{open_time:Date.now()-n,url:t[0]})},this.websocket.onmessage=this.receive.bind(this),this.websocket.onclose=function(e){var n=e.code;if(1001!==n)if(t.failedNum++,1006===n&&t.failedNum<30)Object(ce.c)("chat/web-socket-url").then(function(e){var n=e.url;t.setupWebSocket(n)}).catch(function(){return t.onAbjure("get_url")});else{var r=t.failedNum>=30?"retry_exceed":"code_"+e.code;t.onAbjure(r),console.error(e)}}},e.prototype.send=function(e,t){var n=JSON.stringify({t:e,o:t});this.websocket.send(n)},e.prototype.receive=function(e){try{var t=e.data,n=JSON.parse(t),r=n.t,i=n.o,s=this.handlerCollection[r];if(!s)return;for(var o=0,a=s;o<a.length;o++){(0,a[o])(i)}}catch(e){console.error(e)}},e.prototype.registerHandler=function(e,t){var n=this.handlerCollection[e];n||(n=this.handlerCollection[e]=[]),n.push(t)},e.prototype.unregisterHandler=function(e,t){var n=this.handlerCollection[e];if(n){var r=n.indexOf(t);n.splice(r,1)}},e}();var ft=n(16);function mt(){return Object(ft.a)()}function pt(e){return Object(u.mapState)(e)}var vt={render:function(e){return e("span",{staticClass:"svg-icon-container",class:"maxmize",domProps:{innerHTML:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M15-1v16H-1V-1z"/><path d="M12.018 6.001V3.5a1.5 1.5 0 0 0-1.5-1.5h-2.52v-.5a1.5 1.5 0 0 1 1.5-1.5H12.5A1.5 1.5 0 0 1 14 1.5v3.001a1.5 1.5 0 0 1-1.5 1.5h-.482zM2 6.001V3.5A1.5 1.5 0 0 1 3.5 2h2.501v-.5a1.5 1.5 0 0 0-1.5-1.5H1.5A1.5 1.5 0 0 0 0 1.5v3.001a1.5 1.5 0 0 0 1.5 1.5H2zM2 7.999v2.519a1.5 1.5 0 0 0 1.5 1.5h2.501v.482a1.5 1.5 0 0 1-1.5 1.5H1.5A1.5 1.5 0 0 1 0 12.5V9.499a1.5 1.5 0 0 1 1.5-1.5H2zM12.018 7.999v2.519a1.5 1.5 0 0 1-1.5 1.5h-2.52v.482a1.5 1.5 0 0 0 1.5 1.5H12.5a1.5 1.5 0 0 0 1.5-1.5V9.499a1.5 1.5 0 0 0-1.5-1.5h-.482z" fill="#FFF" fill-rule="nonzero"/></g></svg>'}})}},gt={render:function(e){return e("span",{staticClass:"svg-icon-container",class:"demaxmize",domProps:{innerHTML:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M15-1v16H-1V-1z"/><path d="M9.982-.001V2.5a1.5 1.5 0 0 0 1.5 1.5h2.52v.5a1.5 1.5 0 0 1-1.5 1.5H9.5A1.5 1.5 0 0 1 8 4.5V1.499a1.5 1.5 0 0 1 1.5-1.5h.482zM4-.001V2.5A1.5 1.5 0 0 1 2.5 4H-.001v.5a1.5 1.5 0 0 0 1.5 1.5H4.5A1.5 1.5 0 0 0 6 4.5V1.499a1.5 1.5 0 0 0-1.5-1.5H4zM4 14.001v-2.519a1.5 1.5 0 0 0-1.5-1.5H-.001V9.5a1.5 1.5 0 0 1 1.5-1.5H4.5A1.5 1.5 0 0 1 6 9.5v3.001a1.5 1.5 0 0 1-1.5 1.5H4zM9.982 14.001v-2.519a1.5 1.5 0 0 1 1.5-1.5h2.52V9.5a1.5 1.5 0 0 0-1.5-1.5H9.5A1.5 1.5 0 0 0 8 9.5v3.001a1.5 1.5 0 0 0 1.5 1.5h.482z" fill="#FFF" fill-rule="nonzero"/></g></svg>'}})}},_t=mt().components({Maximize:vt,DeMaximize:gt}).computed(pt(["currentThread","showRightSidebar","isMaximizedView"])).methods({toggle:function(){this.$store.commit("toggleRightSidebar",!this.showRightSidebar)},closeWindow:function(){je("closeChatWindow")},minimizeWindow:function(){this.$store.dispatch("toggleMinimize")},maximizeWindow:function(){this.$store.dispatch("toggleMaximize")}}).done(),bt=(n(281),n(2)),wt=Object(bt.a)(_t,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-actions"},[e.currentThread?n("i",{staticClass:"hoverable amino-icon amino-icon-splat",class:{active:e.showRightSidebar},on:{click:e.toggle}}):e._e(),e._v(" "),n("i",{staticClass:"hoverable close amino-icon amino-icon-upward",on:{click:e.minimizeWindow}}),e._v(" "),e.isMaximizedView?n("DeMaximize",{staticClass:"hoverable svg-hoverable",nativeOn:{click:function(t){return e.maximizeWindow(t)}}}):n("Maximize",{staticClass:"hoverable svg-hoverable",nativeOn:{click:function(t){return e.maximizeWindow(t)}}}),e._v(" "),n("i",{staticClass:"hoverable close amino-icon amino-icon-x",on:{click:e.closeWindow}})],1)},[],!1,null,"82d401e2",null).exports,Tt=n(0),yt=n(5),Et=mt().data(function(e){return{isSendable:!1,uploadId:void 0}}).methods({chooseFile:function(){yt.c&&this.$refs.fileInput.click()},drawPreview:function(e){var t=this;this.uploadId=e,Object(yt.b)(this.$refs.imagePreview,e,yt.c).then(function(){t.isSendable=!0,t.$emit("image-submitted")})},emptyFileInput:function(){var e=this.$refs.fileInput;e.setAttribute("value",""),e.value=""},drawAminoURL:function(e){this.uploadId=-1,this.$refs.imagePreview.src=e,this.isSendable=!0,this.$emit("image-submitted")}}).methods({addMessage:function(){this.isSendable&&(this.$store.dispatch("addPendingMessage",{content:null,mediaType:l.b.IMAGE,mediaValue:this.$refs.imagePreview.src,type:o.USER_GENERAL,uploadId:this.uploadId,sendFailed:!1}),this.isSendable=!1,this.uploadId=void 0,this.emptyFileInput())},deleteImage:function(){this.emptyFileInput(),yt.c.removeFileRef(this.uploadId),this.isSendable=!1,this.uploadId=void 0,this.$refs.imagePreview.src="",this.$emit("image-deleted")},onNewFile:function(e){e&&Object(yt.f)(e,yt.c).then(this.drawPreview).catch(this.$toast.warn)}}).methods({imageChosen:function(){this.onNewFile(this.$refs.fileInput)}}).lifecycle({mounted:function(){yt.d.$on("paste",this.onNewFile),yt.a.$on("dropped",this.onNewFile),yt.a.$on("error",this.$toast.warn),yt.a.$on("dropURL",this.drawAminoURL)},beforeDestroy:function(){yt.d.$off("paste",this.onNewFile),yt.d.$off("dropped",this.onNewFile),yt.a.$off("error",this.$toast.warn),yt.a.$off("dropURL",this.drawAminoURL)}}).done(),Ct=(n(279),Object(bt.a)(Et,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"image-preview-container"},[t("input",{ref:"fileInput",staticClass:"upload-hidden",attrs:{type:"file",accept:"image/gif, image/jpg, image/jpeg, image/png"},on:{change:this.imageChosen}}),this._v(" "),t("img",{ref:"imagePreview",staticClass:"image-preview img-cover",class:{"upload-hidden":!this.isSendable}}),this._v(" "),t("i",{staticClass:"fa fa-trash",on:{click:this.deleteImage}})])},[],!1,null,null,null).exports);function It(e,t){if(!e||e.indexOf("img.youtube.com")>=0)return e||"/static/img/user-icon-placeholder.png";var n=e.split("?"),r=n[0],i=n[1],s=r.split("_"),o=s[0],a=s[1];return a?o+"_"+t+"."+a.split(".")[1]+(i?"?"+i:""):r}c.default.filter("prettyDate",function(e){var t=new Date(e),n=(Date.now()-+t)/1e3;if(n<5*St)return _("Now");if(n<Ot){var r=""+Math.floor(n/St);return"{{time}}m".replace("{{time}}",r)}if(n<At){var i=""+Math.floor(n/Ot);return"{{time}}h".replace("{{time}}",i)}if(n<2*Mt){var s=""+Math.floor(n/At);return"{{time}}d".replace("{{time}}",s)}if(n<6*Mt){var o=""+Math.floor(n/Mt);return"{{time}}mo".replace("{{time}}",o)}return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()}),c.default.filter("resizeImage",It),c.default.filter("prettyTimestamp",function(e){var t=new Date(e),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),i=(+n-+e)/1e3;if(n.toLocaleDateString()===t.toLocaleDateString())return kt(t);if(i<(+n-+r)/1e3+86400)return _("Yesterday")+" "+kt(t);if(i<12*Mt)return t.getMonth()+1+"/"+t.getDate()+" "+kt(t);return t.toLocaleDateString()+" "+kt(t)}),c.default.filter("postToHTML",function(e,t){var n=void 0===t?{}:t;if(n.skipLink,n.contenImages,!e||"string"!=typeof e)return e;var r,i="";r=e,R.textContent=r;for(var s=0,o=(e=R.innerHTML).split("\n");s<o.length;s++)i+=D(o[s]);return i}),c.default.filter("userAvatar",function(e,t){return It(function(e,t){return e.role===w?"/static/img/ic-amino.png":e.role===T?"/static/img/ic-amino.png":e.icon}(e),t)}),c.default.filter("userNickname",F),c.default.filter("webURL",function(e){e.refObject&&(e=e.refObject);if(e.uid)return"/web/"+O+"/user-profile/"+e.uid});var St=60,Ot=60*St,At=24*Ot,Mt=30*At;function kt(e){return e.toLocaleTimeString().replace(/:\d\d /," ")}var Lt=ServerData.userInfo;function xt(e){return e.membersSummary.slice(0,4)}function Nt(e){return e.type===d.SINGLE?F(Rt(e)):e.title||function(e){return xt(e).map(function(e){return e.nickname}).join(", ")}(e)}function Rt(e){return k(e)}function Dt(e){return e.latestActivityTime||e.lastMessageSummary&&e.lastMessageSummary.createdTime||e.createdTime}function Pt(e,t){var n=!t||t.type!==d.SINGLE?function(e){return e.author.uid===Lt.uid?"You: ":e.author.nickname+": "}(e):"";switch(e.mediaType){case l.b.IMAGE:return n+_("[Image]");case l.b.YOUTUBE:return n+_("[Video]");case l.b.VOICE:return n+_("[Voice Note]");case l.b.STICKER:return n+_("[Sticker]");case 0:case null:return e.content?n+e.content:""}}function jt(e){var t=e.lastMessageSummary;if(!t)return"";var n=function(e){var t=e.lastMessageSummary;if(!t)return"";var n="uid"in t&&t.uid;if(n&&n!==Lt.uid)for(var r=0,i=e.membersSummary;r<i.length;r++){var s=i[r];if(s.uid===n)return s.nickname+": "}var o=t.author;return o&&o.uid!==Lt.uid?o.nickname+": ":""}(e);switch(t.mediaType){case l.b.IMAGE:return n+_("[Image]");case l.b.YOUTUBE:case l.b.AMINO_VIDEO:return n+_("[Video]");case l.b.VOICE:return n+_("[Voice Note]");case l.b.STICKER:return n+_("[Sticker]");case 0:case null:if(t.content)return n+t.content;var r=t;if(!r.type)return"";if(r.type===o.INFO_MEMBER_QUIT)return"";var i=M(r.type);return i?(r.author?F(r.author):n.replace(": ","")||"You")+" "+i:""}}var Vt="Apple Computer, Inc."===navigator.vendor,Ft=mt().data(function(e){return{isSendable:!1,threadId:"",setIsSendable:Object(I.a)(function(){e.isSendable=!!e.$refs.textarea.value},50)}}).computed(pt(["currentThread","draftMessages","loadingMessage"])).methods({trySend:function(){this.$parent.$refs.sendButton.trySend()}}).methods({handleKeyDown:function(e){if(this.isSendable||8!==e.keyCode&&46!==e.keyCode){if(13===e.keyCode||"Enter"===e.key)return e.ctrlKey||e.metaKey||e.altKey?(e.preventDefault(),void function(e,t){if(document.selection)e.focus(),document.selection.createRange().text=t;else if(e.selectionStart||0===e.selectionStart){var n=e.selectionStart,r=e.selectionEnd;e.value=e.value.substring(0,n)+t+e.value.substring(r,e.value.length),e.selectionStart=n+t.length,e.selectionEnd=n+t.length}else e.value+=t}(e.target,"\n")):void(e.shiftKey||e.isComposing||(e.preventDefault(),this.trySend()))}else this.$emit("over-delete")},addMessage:function(){var e=this.$refs.textarea.value;e&&(this.$refs.textarea.value="",this.isSendable=!1,this.$store.dispatch("addPendingMessage",{content:e,mediaType:0,type:o.USER_GENERAL,sendFailed:!1}))},focusText:function(){this.$refs.textarea&&!Vt&&this.$refs.textarea.focus()},suppressImageFilename:function(e){e.clipboardData&&e.clipboardData.items&&Array.prototype.forEach.call(e.clipboardData.items,function(t){/^image\//.test(t.type)&&e.preventDefault()})},saveDraft:function(){var e=this.$refs.textarea;this.threadId&&this.$store.commit("setDraft",{threadId:this.threadId,text:e.value})}}).lifecycle({mounted:function(){this.focusText(),this.threadId=this.currentThread.threadId,window.addEventListener("beforeunload",this.saveDraft)},beforeDestroy:function(){this.saveDraft(),window.removeEventListener("beforeunload",this.saveDraft)}}).watch({currentThread:function(){this.saveDraft()},loadingMessage:function(e){!e&&this.currentThread&&(this.focusText(),this.threadId=this.currentThread.threadId,this.$refs.textarea.value=this.draftMessages[this.threadId]||"",this.setIsSendable())}}).done(),Ht=(n(277),Object(bt.a)(Ft,function(){var e=this.$createElement;return(this._self._c||e)("textarea",{directives:[{name:"scroll-self",rawName:"v-scroll-self",value:15,expression:"15"}],ref:"textarea",staticClass:"text-input",attrs:{placeholder:this._("Send a message...")},on:{input:this.setIsSendable,paste:this.suppressImageFilename,keydown:this.handleKeyDown}})},[],!1,null,null,null).exports),Ut={render:function(e){return e("span",{staticClass:"svg-icon-container",class:"send",domProps:{innerHTML:'<svg viewBox="0 0 18 15" xmlns="http://www.w3.org/2000/svg"><path d="M.008 15L17.5 7.5.008 0 0 5.833 12.5 7.5 0 9.167z" fill-rule="nonzero"/></svg>'}})}},$t=n(111).a,Bt=Object(bt.a)($t,void 0,void 0,!1,null,null,null).exports,zt=Object(ft.b)("messageSender",function(){return[this.$refs.plainText,this.$refs.uploadImage]}),Gt={1:1,10:8,30:20},Wt=mt().components({SendIcon:Ut,HoverHint:Bt}).inject(zt).data(function(){return{messages:0,messageCounts:[]}}).computed({isSendTooQuick:function(){for(var e=0,t=Object.keys(Gt);e<t.length;e++){var n=t[e],r=+n,i=this.messageCounts.slice(0,r).reduce(function(e,t){return e+t},0);if(Gt[n]<=i)return!0}return!1},isSendable:function(){return this.messageSender().some(function(e){return e.isSendable})}}).computed({canSend:function(){return!this.isSendTooQuick&&this.isSendable}}).methods({trySend:function(){this.isSendable&&(this.isSendTooQuick?this.$toast.warn("Slow down please.",{time:1e3}):(this.messages+=1,this.messageSender().filter(function(e){return e.isSendable}).forEach(function(e){return e.addMessage()}),this.$emit("new-message")))}}).lifecycle({mounted:function(){var e=this;this.checkInterval=setInterval(function(){for(e.messageCounts.unshift(e.messages);e.messageCounts.length>30;)e.messageCounts.pop();e.messages=0},1e3)},beforeDestroy:function(){clearInterval(this.checkInterval)}}).done(),Yt=(n(275),Object(bt.a)(Wt,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"send-button",class:{"can-send":this.canSend},on:{click:this.trySend}},[t("SendIcon"),this._v(" "),t("HoverHint",{staticClass:"top align-right"},[this._v("\n        "+this._s(this._("Press Enter to send"))+"\n    ")])],1)},[],!1,null,null,null).exports),qt=window.MoodSticker,Jt={data:function(){return{collections:[qt],scrollStatus:{leftMost:!0,rightMost:!0},activeCollectionId:qt.collectionId}},methods:{clickCollection:function(e){var t=e.currentTarget;this.activeCollectionId=t.dataset.id,this.$emit("collection-selected",t.dataset.id)},startHover:function(e){var t=e.currentTarget,n=t.getBoundingClientRect();this.$emit("collection-starthover",{text:t.dataset.text,top:n.top,left:n.left+15})},endHover:function(e){this.$emit("collection-endhover")},toggleOverflowHint:function(){var e=this.$refs.scroller,t=e.offsetWidth,n=e.scrollWidth,r=e.scrollLeft;this.scrollStatus.leftMost=r<=5,this.scrollStatus.rightMost=r+t>=n-5},scrollToLeft:function(){this.$refs.scroller.scrollLeft-=300},scrollToRight:function(){this.$refs.scroller.scrollLeft+=300},setupCollection:function(e){var t=e.stickerCollectionList;t=t.filter(function(e){return e.status!==g}),t=Object(I.c)(t),this.collections=this.collections.concat(t)}},mounted:function(){var e,t,n;(this.$emit("collection-selected",qt.collectionId),ServerData.userInfo.accountMembershipStatus===this.constants.ACCOUNT_MEMBERSHIP_STATUS_AMINO_PLUS)&&(e={ndcId:O},t=e.ndcId,n=t?{ndcId:t}:{},Object(ce.i)("/api/chat-sticker-collection/active",n)).then(this.setupCollection)}},Kt=(n(273),1),Xt=2,Qt=3;var Zt,en,tn,nn={data:function(){return{hoverText:"",stickers:[],tipClass:{active:!1,top:!1,bottom:!1},stickerType:""}},methods:{sendSticker:function(e){var t=e.currentTarget;this.$store.dispatch("addPendingMessage",{type:o.USER_STICKER,stickerId:t.dataset.id,mediaValue:"ndcsticker://"+t.dataset.id,stickerType:this.stickerType,sendFailed:!1}),this.closeSticker()},loadCollection:function(e){var t=this;fe({ndcId:O,collectionId:e}).then(function(e){var n,r=e.stickerList,i=e.collectionType,s=e.collectionId;r=r.filter(function(e){return e.status!==g}),t.stickers=Object(I.c)(r),t.stickerType=(n=i)===Kt?"Sticker Sets":n==Xt?"Custom Sticker":n==Qt?"Shared Sticker Pack Sticker":"mood"===s?"Emoji Sticker":void 0}).catch(function(e){t.$toast.warn(e&&e.message)})},enterSticker:function(e){var t=e.target,n=t.getBoundingClientRect();this.startHover({text:t.dataset.text,top:n.top,left:n.left+38})},startHover:function(e){if(e.text){this.hoverText=e.text;var t=this.$refs.hoverHint.$el.style;t.top=e.top+"px",t.left=e.left+"px",this.tipClass.active=!0,this.tipClass.top=!0,this.tipClass.bottom=!1}},endHover:function(){this.tipClass.active=!1},closeSticker:function(){this.$emit("close-sticker"),this.endHover(),this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},open:function(){var e=this;this.$nextTick(function(){e.unsubscribe=Object(tt.a)(e.$el,e.closeSticker),e.$refs.collection.toggleOverflowHint()})}},components:{StickerCollection:Object(bt.a)(Jt,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sticker-collection-container scroll-clipper"},[n("div",{directives:[{name:"scroll-self",rawName:"v-scroll-self"}],ref:"scroller",staticClass:"scroller-x",on:{scroll:e.toggleOverflowHint}},[n("ul",{staticClass:"sticker-collections"},e._l(e.collections,function(t){return n("li",{key:t.collectionId,staticClass:"sticker-collection",class:{active:t.collectionId===e.activeCollectionId},attrs:{"data-text":t.name,"data-id":t.collectionId},on:{mouseenter:e.startHover,mouseleave:e.endHover,click:e.clickCollection}},[n("img",{attrs:{src:e._f("resizeImage")(t.icon,68),alt:t.name}})])}))]),e._v(" "),e.scrollStatus.rightMost?e._e():n("i",{staticClass:"amino-icon amino-icon-rightward overflow-hint",on:{click:e.scrollToRight}}),e._v(" "),e.scrollStatus.leftMost?e._e():n("i",{staticClass:"amino-icon amino-icon-leftward overflow-hint",on:{click:e.scrollToLeft}})])},[],!1,null,null,null).exports,HoverHint:Bt}},rn=(n(271),Object(bt.a)(nn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sticker-panel"},[n("ul",{directives:[{name:"scroll-self",rawName:"v-scroll-self"}],staticClass:"sticker-list"},e._l(e.stickers,function(t){return n("li",{key:t.stickerId,staticClass:"sticker",attrs:{"data-text":t.name,"data-id":t.stickerId},on:{click:e.sendSticker,mouseenter:e.enterSticker,mouseleave:e.endHover}},[n("img",{staticClass:"img-cover sticker-img",attrs:{src:t.icon,draggable:"false"}})])})),e._v(" "),n("StickerCollection",{ref:"collection",on:{"collection-selected":e.loadCollection,"collection-starthover":e.startHover,"collection-endhover":e.endHover}}),e._v(" "),n("HoverHint",{ref:"hoverHint",staticClass:"align-center",class:e.tipClass},[e._v("\n        "+e._s(e.hoverText)+"\n    ")])],1)},[],!1,null,null,null).exports),sn=n(116),on={render:function(e){return e("span",{staticClass:"svg-icon-container",class:"sticker",domProps:{innerHTML:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 1a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 16.65a7.65 7.65 0 1 0 0-15.3 7.65 7.65 0 0 0 0 15.3zm2.732-4.977v-.018a.675.675 0 1 1 .963.945 5.17 5.17 0 0 1-7.295.09.675.675 0 0 1 .932-.963 3.825 3.825 0 0 0 5.4-.054zM6.85 9.995a1.35 1.35 0 1 1 0-2.7 1.35 1.35 0 0 1 0 2.7zm6.3 0a1.35 1.35 0 1 1 0-2.7 1.35 1.35 0 0 1 0 2.7z" fill-rule="nonzero" stroke="#666" stroke-width=".4"/></svg>'}})}},an=mt().components({UploadImage:Ct,PlainText:Ht,SendButton:Yt,Stickers:rn,ImgUploadIcon:sn.a,StickerIcon:on}).data(function(){return{stickerShown:!1}}).methods({chooseImage:function(){this.$refs.uploadImage.chooseFile()},focusText:function(){this.$refs.plainText.focusText()},deleteImage:function(){this.$refs.uploadImage.deleteImage()},showSticker:function(){this.stickerShown||(this.stickerShown=!0,this.$refs.sticker.open())},closeSticker:function(){this.stickerShown=!1}}).provide(zt).done(),cn=(n(269),Object(bt.a)(an,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-input-area"},[n("div",{staticClass:"image-wrapper"},[n("UploadImage",{ref:"uploadImage",on:{"image-submitted":e.focusText,"image-deleted":e.focusText}})],1),e._v(" "),n("div",{staticClass:"main-input-wrapper"},[n("PlainText",{ref:"plainText",on:{"over-delete":e.deleteImage}}),e._v(" "),n("div",{staticClass:"send-icons"},[n("ImgUploadIcon",{staticClass:"icon",nativeOn:{click:function(t){return e.chooseImage(t)}}}),e._v(" "),n("StickerIcon",{staticClass:"icon smile-face",class:{active:e.stickerShown},nativeOn:{click:function(t){return e.showSticker(t)}}}),e._v(" "),n("Stickers",{directives:[{name:"show",rawName:"v-show",value:e.stickerShown,expression:"stickerShown"}],ref:"sticker",on:{"close-sticker":e.closeSticker}}),e._v(" "),n("SendButton",e._g({ref:"sendButton",staticClass:"pull-right"},e.$listeners))],1)],1)])},[],!1,null,null,null).exports),un={props:{reason:String,thread:Object},computed:{fanclubText:function(){var e=this.thread;return e&&e.author?_("Join {{owner}}'s Fan Club on the Amino app to chat.").replace("{{owner}}",F(e.author)):_("This chat is fan club member only.")}}},ln=(n(267),Object(bt.a)(un,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unavailable-chat"},["DISABLED"===e.reason?[n("i",{staticClass:"amino-icon amino-icon-warn"}),e._v(" "),n("p",[e._v("\n        "+e._s(e._("This chat has been disabled."))+"\n        ")])]:"AUTHOR_ABSENT"===e.reason?[n("i",{staticClass:"amino-icon amino-icon-minus-rev"}),e._v(" "),n("p",[e._v("\n            "+e._s(e._("The organizer has left the conversation."))),n("br"),e._v("\n            "+e._s(e._("No further messages can be sent."))+"\n        ")])]:"FANCLUB_ONLY"===e.reason?[n("i",{staticClass:"amino-icon amino-icon-lock"}),e._v(" "),n("p",[e._v(e._s(e.fanclubText))])]:"ROOM_FULL"===e.reason?[e._m(0),e._v(" "),n("p",[e._v("\n        "+e._s(e._("Sorry, this session is full, but you can still observe the conversation."))+"\n        ")])]:e._e()],2)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon-combination"},[t("i",{staticClass:"amino-icon amino-icon-user-triple"}),this._v(" "),t("i",{staticClass:"amino-icon amino-icon-minus-rev amino-icon-small"})])}],!1,null,null,null).exports),dn={methods:{joinThread:function(){var e=this,t=this.$store.state.currentThread.threadId;this.$store.dispatch("joinThread",t).catch(function(t){e.$toast.warn(t&&t.message||"Ooops, cannot join thread")})}}},hn=(n(265),Object(bt.a)(dn,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"chat-join"},[t("button",{staticClass:"join chat-community-bg",on:{click:this.joinThread}},[this._v(this._s(this._("Join this chat")))])])},[],!1,null,null,null).exports),fn={functional:!0,props:{thread:{type:Object,required:!0}},render:function(e,t){return e("div",{attrs:{class:"chat-interaction"}},[function(e,t){var n=t.props,r=t.listeners,i=n.thread;if(!i)return e("");var s=i.membershipStatus;if(i.needHidden)return e(ln,{props:{reason:"FANCLUB_ONLY",thread:i}});if(i.status===g)return e(ln,mn(Zt||(Zt=Object(Tt.c)(["DISABLED"],["DISABLED"]))));if(i.status===f.AUTHORABSENT)return e(ln,mn(en||(en=Object(Tt.c)(["AUTHOR_ABSENT"],["AUTHOR_ABSENT"]))));var o=s===h.INVITE_SENT;if(s===h.ACTIVE||i.type===d.SINGLE&&o)return e(cn,{on:r});if(o)return e(hn);if(i.membersCount>=i.membersQuota)return e(ln,mn(tn||(tn=Object(Tt.c)(["ROOM_FULL"],["ROOM_FULL"]))));if(s===h.NONE)return e(hn)}(e,t)])}};function mn(e){return{props:{reason:e[0]}}}var pn=mt().props({isTransparent:Boolean}).data(function(e){return{overflowing:!1}}).computed(pt(["currentThread"])).computed({threadName:function(){return this.currentThread?Nt(this.currentThread):""}}).methods({tweakOverflow:function(){var e=this.$refs.summary;e&&(this.overflowing=e.clientHeight<e.scrollHeight)},expand:function(){this.$store.commit("toggleRightSidebar",!0)},openProfile:function(){this.$store.dispatch("openMiniProfile",this.currentThread.author)}}).lifecycle({mounted:function(){this.tweakOverflow()},updated:function(){this.$nextTick(this.tweakOverflow)}}).done(),vn=(n(263),Object(bt.a)(pn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group-card"},[n("h3",{staticClass:"transparent-thread-title",class:{shadowed:e.isTransparent}},[n("span",{staticClass:"title-text"},[e._v(e._s(e.threadName))]),e._v(" "),n("span",{staticClass:"member-count"},[e._v("("+e._s(e.currentThread.membersCount)+")")]),e._v(" "),n("span",{staticClass:"chat-community-bg transition"})]),e._v(" "),n("div",{staticClass:"bg-cover chat-community-bg"},[e.currentThread.icon?n("img",{staticClass:"img-cover",attrs:{src:e.currentThread.icon}}):e._e()]),e._v(" "),n("p",{ref:"summary",staticClass:"group-summary"},[e.overflowing?n("span",{staticClass:"spacer"}):e._e(),e._v(" "),e.overflowing?n("span",{staticClass:"see-all",on:{click:e.expand}},[e._v("\n            "+e._s(e._("See all"))+"\n        ")]):e._e(),e._v("\n        "+e._s(e.currentThread.content)+"\n    ")]),e._v(" "),n("div",{staticClass:"organizer-info"},[e._v("\n        "+e._s(e._("Organizer"))+":\n        "),n("a",{staticClass:"organizer-link",attrs:{href:"javascript:void(0)"},on:{click:e.openProfile}},[n("img",{staticClass:"avatar",attrs:{src:e._f("userAvatar")(e.currentThread.author,68)}}),e._v("\n            "+e._s(e._f("userNickname")(e.currentThread.author))+"\n        ")]),e._v(" "),e.currentThread.author.influencerInfo?n("span",{staticClass:"influencer-badge"}):e._e()])])},[],!1,null,null,null).exports),gn=n(112).a,_n=Object(bt.a)(gn,void 0,void 0,!1,null,null,null).exports,bn={components:{ActionMenu:_n},props:{message:Object},data:function(){return{progressValue:0}},mounted:function(){Tn(this,this.message)},computed:{isImageMessage:function(){return x(this.message)}},methods:{resend:function(){Tn(this,this.message)},deleteSending:function(){return this.$store.commit("deleteSending",this.message)},progress:function(e){var t=e.totalBytes,n=e.uploadedBytes;this.progressValue=n/t*100}}},wn=[o.USER_GENERAL,o.USER_STICKER];function Tn(e,t){if(wn.indexOf(t.type)<0)console.error("Cannot send unsupported message type!",t.type);else{t.sendFailed=!1;var n=Promise.resolve();if(e.isImageMessage&&!t.mediaValue.startsWith("http")){var r="progress-"+t.uploadId;n=Object(yt.h)(t.uploadId,yt.c).then(function(n){t.mediaValue=n.mediaValue,yt.e.$off(r,e.progress)}),yt.e.$on(r,e.progress)}n.then(function(){return e.$store.dispatch("confirmSendMessage",t)}).catch(function(n){n&&n.response&&n.response.api_status_code&&e.$toast.warn(n.message),t.sendFailed=!0})}}var yn=bn,En=(n(261),{components:{ActionMenu:_n,SendingStatus:Object(bt.a)(yn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.message.sendFailed?n("ActionMenu",{staticClass:"send-failed",attrs:{placement:"bottom-start",iconClass:"sending-failed fa fa-exclamation-circle"}},[n("ul",{staticClass:"menu flag-menu"},[n("li",{staticClass:"menu-item pointer",on:{click:e.resend}},[n("i",{staticClass:"amino-icon amino-icon-reload"}),e._v("\n            "+e._s(e._("Retry"))+"\n        ")]),e._v(" "),n("li",{staticClass:"menu-item pointer",on:{click:e.deleteSending}},[n("i",{staticClass:"fa fa-trash"}),e._v("\n            "+e._s(e._("Delete"))+"\n        ")])])]):e.isImageMessage?n("div",{staticClass:"sending-image progress-bar"},[n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"progress-bar-content",style:{width:e.progressValue+"%"}})]),e._v(" "),n("p",{staticClass:"progress-text"},[e._v("\n    "+e._s(e._("Sending..."))+"\n    ")])]):n("span",{staticClass:"sending-message fa fa-spin fa-circle-o-notch"})},[],!1,null,null,null).exports},props:{message:Object},methods:{startFlag:function(){this.$flagReview.flagMessage(this.message)},openProfile:function(e){this.$store.dispatch("openMiniProfile",this.message.author)}},computed:{fromMe:function(){return ServerData.userInfo.uid===this.message.author.uid}}}),Cn=(n(259),Object(bt.a)(En,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"chat-message user-message",class:{"from-me":e.fromMe}},[n("a",{staticClass:"message-author cover-img",attrs:{href:"javascript:void(0)"},on:{click:e.openProfile}},[n("img",{staticClass:"avatar",attrs:{src:e._f("userAvatar")(e.message.author,68)}})]),e._v(" "),n("div",{staticClass:"message-body"},[e.fromMe?e._e():n("p",{staticClass:"author-name"},[e._v("\n            "+e._s(e._f("userNickname")(e.message.author))+"\n            "),e.message.author.influencerInfo?n("i",{staticClass:"influencer-badge"}):n("i",{staticClass:"level-badge",class:"level-badge-"+e.message.author.level})]),e._v(" "),n("div",{staticClass:"message-content"},[e._t("default"),e._v(" "),e.fromMe?e.message.messageId?e._e():n("SendingStatus",{attrs:{message:e.message}}):n("ActionMenu",[n("ul",{staticClass:"menu flag-menu"},[n("li",{staticClass:"menu-item pointer action-flag",on:{click:e.startFlag}},[n("i",{staticClass:"amino-icon amino-icon-flag"}),e._v("\n                        "+e._s(e._("Flag for Review"))+"\n                    ")])])])],2)])])},[],!1,null,null,null).exports),In={render:function(e){return e("span",{staticClass:"svg-icon-container",class:"play-button",domProps:{innerHTML:'<svg viewBox="0 0 14 18" xmlns="http://www.w3.org/2000/svg"><path d="M3.087 17.003l9.773-6.324a2 2 0 0 0 0-3.358L3.087.997A2 2 0 0 0 0 2.677v12.647a2 2 0 0 0 3.087 1.679z" fill-rule="nonzero"/></svg>'}})}},Sn={props:{message:Object},components:{UserWrapper:Cn,Icon:In},methods:{showYoutube:function(e){je("showMedia",{type:"youtube",youtubeId:e,autoplay:1})}},computed:{youtubeID:function(){return 0===this.message.mediaType?/v=(\w+)/.exec(this.message.content)[1]:this.message.mediaValue.substring(6)}}},On=(n(257),Object(bt.a)(Sn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ytb-msg",on:{click:function(t){e.showYoutube(e.youtubeID)}}},[n("div",{staticClass:"youtube-preview"},[n("img",{staticClass:"img-cover",attrs:{src:"//img.youtube.com/vi/"+e.youtubeID+"/hqdefault.jpg",alt:"youtube cover"}}),e._v(" "),n("Icon",{staticClass:"play-button"})],1),e._v(" "),n("div",{staticClass:"youtube-info"},[n("h3",{staticClass:"ytb-title"},[e._v(e._s(e.message.content))]),e._v(" "),n("small",{staticClass:"source-name"},[e._v("youtube.com")])])])},[],!1,null,null,null).exports);function An(e){return e>=10?""+e:"0"+e}function Mn(e){if((e=Math.floor(e))<60)return"00:"+An(e);var t=Math.floor(e/60),n=Math.floor(e%60);return An(t)+":"+An(n)}var kn=Math.min(window.innerWidth-200-114,270);function Ln(e,t){void 0===t&&(t=160);var n=V(e);if(!n.width||!n.height)return{};var r=+n.width,i=+n.height;return r/i>kn/t?{width:Math.min(kn,r)+"px",height:Math.floor(kn/r*i)+"px"}:{width:Math.floor(t/i*r)+"px",height:Math.min(i,t)+"px"}}var xn={props:{message:Object},components:{UserWrapper:Cn,Icon:In},methods:{showVideo:function(){je("showMedia",{type:"video",videoSrc:this.message.mediaValue,source:"Chat Thread",autoplay:1})}},computed:{videoExt:function(){var e=this.message.extensions;return e&&e.videoExtensions},coverImage:function(){return this.videoExt.coverImage},duration:function(){return Mn(this.videoExt.duration)},coverStyle:function(){return Ln(this.coverImage,210)}}},Nn=(n(255),Object(bt.a)(xn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-msg",on:{click:e.showVideo}},[n("div",{staticClass:"youtube-preview"},[n("img",{staticClass:"img-cover",style:e.coverStyle,attrs:{src:e.coverImage}}),e._v(" "),n("Icon",{staticClass:"play-button"}),e._v(" "),n("small",{staticClass:"source-name"},[e._v(e._s(e.duration))])],1)])},[],!1,null,null,null).exports),Rn={props:{message:Object},components:{UserWrapper:Cn,Youtube:On,Video:Nn},methods:{showImage:function(e){je("showMedia",{type:"img",preview:e,src:It(e,"hq")})},imageDisplaySize:function(e){return Ln(e)}},computed:{isYoutubeMessage:function(){var e=this.message.mediaType;return e===l.b.YOUTUBE||0===e&&/^https:\/\/www.youtube.com\/watch\?v=\w+$/.test(this.message.content)},isVideoMessage:function(){return this.message.mediaType===l.b.AMINO_VIDEO}}},Dn=(n(253),Object(bt.a)(Rn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("UserWrapper",{attrs:{message:e.message}},[e.isYoutubeMessage?n("Youtube",{attrs:{message:e.message}}):e.isVideoMessage?n("Video",{attrs:{message:e.message}}):0===e.message.mediaType?n("div",{staticClass:"text-msg rich-content",domProps:{innerHTML:e._s(e.$options.filters.postToHTML(e.message.content))}}):e.message.mediaType===e.constants.OBJECT_TYPE.IMAGE?n("div",{staticClass:"img-msg",class:{uploading:!e.message.messageId},on:{click:function(t){e.showImage(e.message.mediaValue)}}},[n("img",{staticClass:"img-cover",style:e.imageDisplaySize(e.message.mediaValue),attrs:{src:e.message.mediaValue}})]):e._e()],1)},[],!1,null,null,null).exports),Pn={props:{message:Object},components:{UserWrapper:Cn},data:function(){return{style:this.imageDisplaySize(this.message.mediaValue,"128px")}},computed:{stickerImg:function(){return B(this.message)}},methods:{imageDisplaySize:function(e,t){var n=V(e);if(!n.width||!n.height)return{minHeight:t};var r=+n.width,i=+n.height;return{height:Math.floor(128/r*i)+"px"}},resetStyle:function(){this.style=this.imageDisplaySize(this.message.mediaValue,"")}}},jn=(n(251),Object(bt.a)(Pn,function(){var e=this.$createElement,t=this._self._c||e;return t("UserWrapper",{attrs:{message:this.message}},[t("div",{staticClass:"sticker-message"},[t("img",{staticClass:"sticker-img",style:this.style,attrs:{src:this.stickerImg},on:{load:this.resetStyle}})])])},[],!1,null,null,null).exports);var Vn={props:{message:Object},components:{UserWrapper:Cn,AudioPlay:{render:function(e){return e("span",{staticClass:"svg-icon-container",class:"audio-play",domProps:{innerHTML:'<svg viewBox="0 0 12 14" xmlns="http://www.w3.org/2000/svg"><path d="M11.044 7.861L1.508 13.49A1 1 0 0 1 0 12.629V1.37a1 1 0 0 1 1.508-.86l9.536 5.628a1 1 0 0 1 0 1.722z" fill-rule="evenodd"/></svg>'}})}},AudioPause:{render:function(e){return e("span",{staticClass:"svg-icon-container",class:"audio-pause",domProps:{innerHTML:'<svg viewBox="0 0 12 14" xmlns="http://www.w3.org/2000/svg"><path d="M2 0a2 2 0 0 1 2 2v10a2 2 0 1 1-4 0V2a2 2 0 0 1 2-2zm8 0a2 2 0 0 1 2 2v10a2 2 0 1 1-4 0V2a2 2 0 0 1 2-2z" fill-rule="evenodd"/></svg>'}})}}},data:function(){return{isPlaying:!1,duration:"",width:"",progress:0}},methods:{toggleMedia:function(){this.isPlaying?this.$refs.audio.pause():(document.querySelectorAll(".voice-message-container audio").forEach(function(e){e.pause()}),this.$refs.audio.play()),this.isPlaying=!this.isPlaying},metadata:function(){var e,t=this.$refs.audio;this.duration=Mn(t.duration),this.width=(e=t.duration,e=Math.min(e,60),Math.floor(e/60*125+115))},onPause:function(){this.isPlaying=!1},ended:function(){this.isPlaying=!1,this.progress=0,this.duration=Mn(this.$refs.audio.duration)},timeupdate:function(){var e=this.$refs.audio;this.progress=e.currentTime/e.duration*100,this.duration=Mn(e.duration-e.currentTime)}},mounted:function(){var e=this.$refs.audio;e.addEventListener("loadedmetadata",this.metadata),e.addEventListener("ended",this.ended),e.addEventListener("timeupdate",this.timeupdate),e.addEventListener("pause",this.onPause)},beforeDestroy:function(){var e=this.$refs.audio;e.removeEventListener("loadedmetadata",this.metadata),e.removeEventListener("ended",this.ended),e.removeEventListener("timeupdate",this.timeupdate),e.addEventListener("pause",this.onPause)}},Fn=(n(249),Object(bt.a)(Vn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("UserWrapper",{attrs:{message:e.message}},[n("div",{staticClass:"voice-message-container",style:{width:e.width}},[n("button",{staticClass:"play-button",on:{click:e.toggleMedia}},[e.isPlaying?n("AudioPause"):n("AudioPlay")],1),e._v(" "),n("div",{staticClass:"voice-progress"},[n("div",{staticClass:"progress",style:{width:e.progress+"%"}})]),e._v(" "),n("time",{staticClass:"voice-time"},[e._v("\n            "+e._s(e.duration)+"\n        ")]),e._v(" "),n("audio",{ref:"audio",attrs:{src:e.message.mediaValue}},[n("p",[e._v("Your browser doens't support this message!")])])])])},[],!1,null,null,null).exports),Hn=ServerData.community?ServerData.community.ndcId:"x0",Un={props:{message:Object},methods:{openProfile:function(){this.$store.dispatch("openMiniProfile",this.messageAuthor)}},data:function(){return{author:null}},computed:{messageAuthor:function(){return this.message.author||this.author},infoString:function(){return M(this.message.type)},isMeJoin:function(){return N(this.message)}},mounted:function(){var e=this;this.message.author||he({ndcId:Hn,userId:this.message.uid}).then(function(t){e.author=t}),N(this.message)&&this.$store.state.messageChangeSource===v.SELF_ADD&&requestAnimationFrame(function(){var t=e.$el;t.parentNode.scrollTop=t.offsetTop-10})}},$n=(n(247),Object(bt.a)(Un,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"chat-message info-message"},[e.isMeJoin?[e._v("\n        "+e._s(e._("You've joined the conversation."))+"\n    ")]:e.messageAuthor&&e.infoString?[n("a",{staticClass:"linkblue",attrs:{href:"javascript:void(0)"},on:{click:e.openProfile}},[e._v("\n            "+e._s(e._f("userNickname")(e.messageAuthor))+"\n        ")]),e._v("\n        "+e._s(e.infoString)+"\n    ")]:[e._v("\n        "+e._s(e._("Unsupported Message. View on App."))+"\n    ")]],2)},[],!1,null,null,null).exports),Bn={computed:Object(Tt.a)({},Object(u.mapGetters)(["organizer"])),props:{message:Object},methods:{openProfile:function(){this.$store.dispatch("openMiniProfile",this.organizer)}}},zn=(n(245),Object(bt.a)(Bn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"chat-message welcome-message"},[n("div",{staticClass:"organizer-info"},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:e.openProfile}},[n("img",{staticClass:"avatar",attrs:{src:e._f("userAvatar")(e.organizer,68)}}),e._v(" "),e.organizer.influencerInfo?n("i",{staticClass:"influencer-badge"}):e._e()]),e._v(" "),n("div",{staticClass:"desc-line"},[e._v("\n            "+e._s(e._("Organizer"))+":\n            "),n("a",{staticClass:"organizer-link",attrs:{href:"javascript:void(0)"},on:{click:e.openProfile}},[e._v("\n                "+e._s(e._f("userNickname")(e.organizer))+"\n            ")])])]),e._v(" "),n("div",{staticClass:"message-body rich-content",domProps:{innerHTML:e._s(e.$options.filters.postToHTML(e.message.content))}})])},[],!1,null,null,null).exports),Gn={functional:!0,render:function(e,t){var n=t.props.message;if(n.author&&n.author.status===g)return e("");var r={props:{message:n},key:t.data.key};switch(n.type){case o.USER_GENERAL:return e(Dn,r);case o.USER_VOICE_NOTE:return e(Fn,r);case o.USER_STICKER:return e(jn,r);case o.USER_VIDEO:return e(Cn,r,[e(Nn,r)]);case o.INFO_DELETED:case o.INFO_MEMBER_BECOME_ACTIVE:case o.INFO_MEMBER_QUIT:case o.INFO_TITLE_CHANGE:case o.INFO_ICON_CHANGE:case o.INFO_CONTENT_CHANGE:return e($n,r);case o.INFO_SESSION_INIT:return n.content?e(Dn,r):e($n,r);case o.CLIENT_WELCOME:return e(zn,r);default:return e($n,r)}}},Wn={props:["time"]},Yn=(n(243),Object(bt.a)(Wn,function(e,t){return(0,t._c)("li",{staticClass:"timestamp"},[t._v("\n    "+t._s(t._f("prettyTimestamp")(t.props.time))+"\n")])},[],!0,null,null,null).exports),qn={functional:!0,render:function(e,t){for(var n=t.props,r=n.messages,i=n.timestamps,s=[],o=0,a=i[o],c=0;c<r.length;c++){var u=r[c];a&&a.index===c&&(s.push(e(Yn,{props:{time:a.time}})),a=i[o+=1]),s.push(e(Gn,{props:{message:u},key:u.messageId}))}return s}},Jn=n(11),Kn=n.n(Jn),Xn=document.defaultView.getComputedStyle;function Qn(e){for(var t=e;t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&1===t.nodeType;){var n=Xn(t).overflowY;if("scroll"===n||"auto"===n||"overlay"===n)return t;t=t.parentNode}return window}var Zn="Apple Computer, Inc."===navigator.vendor;var er={render:function(e){return e("div",this.$slots.default)},mounted:function(){var e=this,t=Qn(this.$el),n=Kn.a.createContainer(t),r=t.clientHeight>>1;this.monitor=n.create(this.$el,r),this.monitor.enterViewport(function(){e.$emit("enter-view")})},beforeDestroy:function(){this.monitor.destroy()},methods:{isInViewport:function(){for(var e=this.monitor.container;e.containerWatcher;)e.containerWatcher.recalculateLocation(),e=e.containerWatcher.container;return this.monitor.recalculateLocation(),this.monitor.update(),this.monitor.isInViewport},scrollBack:function(){var e=this.monitor.container.item,t=e.scrollHeight,n=e.scrollTop;this.$nextTick(function(){var r=e.scrollHeight;e.scrollTop=n+(r-t)})}}},tr=mt().components({MessageDispatcher:Gn,Messages:qn,ScrollLoader:er}).data(function(e){return{hasMore:!0}}).computed(pt(["currentThread","messages","timestamps","messageChangeSource","loadingMessage"])).methods({loadMore:function(){var e=this;if(this.hasMore&&!this.loading){this.loading=!0;var t=this.$refs.loader;this.$store.dispatch("loadOldMessages",25).then(function(n){e.$store.commit("mergeMessages",{msgs:n,size:25}),e.hasMore=n.length>1,e.loading=!1,t.scrollBack(),e.hasMore&&t.isInViewport()&&e.loadMore()}).catch(function(){e.errorCount=e.errorCount||0,e.errorCount+=1,e.errorCount>10||setTimeout(function(){e.loading=!1,t&&t.isInViewport()&&e.loadMore()},3e3)})}},scrollToBottom:function(){var e=this.$refs.list;e.scrollTop=e.scrollHeight},isScrolledToBottom:function(){var e=this.$refs.list,t=e.clientHeight+e.scrollTop+10;return e.scrollHeight<=t}}).lifecycle({mounted:function(){this.scrollToBottom()},activated:function(){this.scrollToBottom()}}).watch({currentThread:function(){var e=this;this.hasMore=!0,this.errorCount=0,this.$nextTick(function(){e.scrollToBottom()})},messages:function(){var e=this,t=this.messageChangeSource;t!==v.LOAD_OLD&&(t===v.INITIAL_LOAD||t===v.SELF_ADD||this.isScrolledToBottom())&&this.$nextTick(function(){e.scrollToBottom()})}}).done(),nr=(n(241),Object(bt.a)(tr,function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{directives:[{name:"scroll-self",rawName:"v-scroll-self"}],ref:"list",staticClass:"message-list"},[this.hasMore&&!this.loadingMessage?t("li",{staticClass:"nosize"},[t("ScrollLoader",{ref:"loader",on:{"enter-view":this.loadMore}})],1):this._e(),this._v(" "),t("Messages",{attrs:{timestamps:this.timestamps,messages:this.messages}})],1)},[],!1,null,null,null).exports),rr=ServerData.community?ServerData.community.ndcId:"x0",ir={props:{threadId:String},components:{ScrollLoader:er},data:function(){return{memberList:[],start:0,hasMore:!0}},methods:{loadMore:function(){var e=this;if(!this.loading){this.loading=!0;var t,n,r,i,s,o=this.$refs.loader;return this.hash=this.hash||{},(t={ndcId:rr,threadId:this.threadId,start:this.start,size:24},n=t.ndcId,r=t.threadId,i=t.start,s=t.size,Object(ce.i)("members-in-thread",{ndcId:n,threadId:r,type:"default",start:i,size:s})).then(function(e){return e.memberList}).then(function(t){for(var n=t.length,r=0,i=t;r<i.length;r++){var s=i[r];e.hash[s.uid]||(e.hash[s.uid]=!0,e.memberList.push(s))}e.start+=n,e.hasMore=t.length>=24,e.loading=!1,e.hasMore&&o&&o.isInViewport&&e.loadMore()})}}}},sr=(n(239),Object(bt.a)(ir,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"member-list"},[e._l(e.memberList,function(t){return t.status!==e.constants.OBJECT_STATUS_DISABLED?n("li",{key:t.uid,staticClass:"member-item"},[n("a",{staticClass:"block",attrs:{href:e._f("webURL")(t),target:"_parent"}},[n("div",{staticClass:"member-icon"},[n("img",{staticClass:"avatar",attrs:{src:e._f("userAvatar")(t,68),alt:""}}),e._v(" "),t.influencerInfo?n("i",{staticClass:"influencer-badge"}):n("i",{staticClass:"level-badge",class:"level-badge-"+t.level})]),e._v(" "),n("span",{staticClass:"member-name"},[e._v("\n                "+e._s(e._f("userNickname")(t))+"\n            ")])])]):e._e()}),e._v(" "),e.hasMore?n("li",{staticClass:"nosize"},[n("ScrollLoader",{ref:"loader",on:{"enter-view":e.loadMore}})],1):e._e()],2)},[],!1,null,null,null).exports),or=n(33),ar=n.n(or),cr={components:{BellOn:{render:function(e){return e("span",{staticClass:"svg-icon-container",class:"bell-on",domProps:{innerHTML:'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.489 11.37l-.037.037C1.988 10.22 2.83 8.038 3.06 5.55c0-1.467.878-2.763 2.206-3.518.227-.138.475-.252.73-.342.117-.044.235-.084.356-.12a3.5 3.5 0 0 1 .536-.269c-.039-.076-.039-.191-.039-.268A1.03 1.03 0 0 1 7.93 0c.573 0 1.033.46 1.033 1.033 0 .077 0 .192-.039.268a3.5 3.5 0 0 1 .536.268c.121.037.24.077.356.12.255.09.503.205.73.343 1.328.755 2.206 2.051 2.206 3.518.23 2.488 1.072 4.67 1.608 5.857l-.036-.037c.283.62.488.98.488.994 0 .344-2.335 1.684-5.206 2.105C9.49 15.349 8.802 16 7.921 16a1.781 1.781 0 0 1-.031 0c-.88 0-1.57-.65-1.684-1.531C3.335 14.048 1 12.709 1 12.364c0-.013.205-.374.489-.994z"/></svg>'}})}},BellMuted:{render:function(e){return e("span",{staticClass:"svg-icon-container",class:"bell-muted",domProps:{innerHTML:'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.818 13.13l1.531 1.569a.74.74 0 0 1 0 1.071.74.74 0 0 1-1.071 0l-1.99-1.99c-.805.306-1.685.536-2.68.689-.115.88-.804 1.531-1.685 1.531-.88 0-1.569-.65-1.684-1.531-2.87-.421-5.206-1.76-5.206-2.105 0-.039 1.761-3.063 2.106-6.852 0-.268.076-.536.115-.804L.23 1.684a.74.74 0 0 1 0-1.072.74.74 0 0 1 1.071 0l2.642 2.642c0-.039 0-.039.038-.077l9.914 9.914s-.039.038-.077.038zM5.13 2.143c.383-.268.842-.46 1.302-.575.191-.076.382-.191.536-.268-.039-.076-.039-.153-.039-.268C6.928.46 7.388 0 7.962 0c.574 0 1.033.46 1.033 1.033 0 .077 0 .192-.038.268a3.5 3.5 0 0 1 .536.268c1.914.575 3.292 2.144 3.292 3.981.23 2.488 1.071 4.67 1.607 5.857L5.13 2.144z"/></svg>'}})}},HoverHint:Bt},computed:Object(Tt.a)(Object(Tt.a)({},Object(u.mapState)(["currentThread"])),{isDontDisturbOff:function(){return this.currentThread.alertOption===b.ON},hoverText:function(){var e=this.isDontDisturbOff?_("OFF"):_("ON");return _("Do not disturb: ")+e}}),methods:{toggleAlert:function(){var e=this.currentThread.alertOption===b.ON?b.SILENT:b.ON;this.$store.dispatch("setThreadAlert",e).catch(this.$toast.warn)}}},ur=(n(237),Object(bt.a)(cr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"do-not-disturb"},[e.isDontDisturbOff?n("BellOn",{nativeOn:{click:function(t){return e.toggleAlert(t)}}}):n("BellMuted",{nativeOn:{click:function(t){return e.toggleAlert(t)}}}),e._v(" "),n("HoverHint",{staticClass:"bottom align-right"},[e._v("\n        "+e._s(e.hoverText)+"\n    ")])],1)},[],!1,null,null,null).exports),lr={components:{ActionMenu:_n,DoNotDisturb:ur},computed:Object(Tt.a)(Object(Tt.a)({},Object(u.mapState)(["currentThread"])),{isMyThread:function(){return this.currentThread.author.uid===ServerData.userInfo.uid},memberCount:function(){var e=this.currentThread.membersCount>1?"{{number}} members":"{{number}} member";return _(e).replace("{{number}}",this.currentThread.membersCount)},isPublicActive:function(){return this.currentThread.type===d.PUBLIC&&this.currentThread.status!==g}}),methods:{threadName:Nt,startFlag:function(){this.$flagReview.flagThread(this.currentThread)}},mounted:function(){var e=this,t=this.$refs.copyLink;t&&(this.clipboard=new ar.a(t),this.clipboard.on("success",function(){e.$toast.success(_("Copied")),Object(tt.c)({eventCategory:"Copy Chat Link",eventAction:"click"})}))},beforeDestroy:function(){this.clipboard&&this.clipboard.destroy()}},dr=(n(235),Object(bt.a)(lr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group-header"},[n("h3",{staticClass:"group-thread-title"},[n("p",{staticClass:"name"},[e._v("\n            "+e._s(e.threadName(e.currentThread))+"\n        ")]),e._v(" "),n("div",{staticClass:"bg-cover chat-community-bg"},[e.currentThread.icon?n("img",{staticClass:"img-cover",attrs:{src:e.currentThread.icon}}):e._e()])]),e._v(" "),n("div",{staticClass:"organizer-info"},[n("a",{attrs:{target:"_parent",href:e._f("webURL")(e.currentThread.author)}},[n("img",{staticClass:"avatar",attrs:{src:e._f("userAvatar")(e.currentThread.author,68)}}),e._v(" "),e.currentThread.author.influencerInfo?n("span",{staticClass:"influencer-badge"}):e._e()]),e._v(" "),n("div",{staticClass:"desc-line"},[e._v("\n            "+e._s(e._("Organizer"))+":\n            "),n("a",{staticClass:"organizer-link",attrs:{target:"_parent",href:e._f("webURL")(e.currentThread.author)}},[e._v("\n                "+e._s(e._f("userNickname")(e.currentThread.author))+"\n            ")])]),e._v(" "),e.isMyThread?e._e():n("ActionMenu",{staticClass:"flag-button"},[n("ul",{staticClass:"menu flag-menu"},[n("li",{staticClass:"menu-item pointer action-flag",on:{click:e.startFlag}},[n("i",{staticClass:"amino-icon amino-icon-flag"}),e._v("\n                    "+e._s(e._("Flag for Review"))+"\n                ")])])]),e._v(" "),n("DoNotDisturb")],1),e._v(" "),n("p",{staticClass:"group-summary rich-content",domProps:{innerHTML:e._s(e.$options.filters.postToHTML(e.currentThread.content))}}),e._v(" "),e.isPublicActive?n("button",{ref:"copyLink",staticClass:"copy-link button",attrs:{"data-clipboard-text":e.currentThread.webURL}},[n("i",{staticClass:"amino-icon amino-icon-link"}),e._v("\n        "+e._s(e._("Copy Link"))+"\n    ")]):e._e(),e._v(" "),n("p",{staticClass:"member-count"},[e._v(e._s(e.memberCount))])])},[],!1,null,null,null).exports),hr={computed:Object(Tt.a)({needShowButton:function(){var e=this.$store.state.miniProfileAsync,t=this.$store.state.singleChatPartner;switch(e.state){case"resting":return!0;case"fetching":return t&&t.uid===e.uid;case"fetched":return t&&t.uid===e.user.uid}return!0},isActive:function(){return this.currentThread.membershipStatus===h.ACTIVE||L(this.currentThread)},isJoinable:function(){return e=this.currentThread,t=e.needHidden,n=9===e.status,r=e.status===f.AUTHORABSENT,i=e.membershipStatus===h.ACTIVE,!t&&!n&&!r&&!i&&(e.status===h.INVITE_SENT||e.membersCount<e.membersQuota);var e,t,n,r,i}},Object(u.mapState)(["currentThread"])),methods:{leaveThread:function(){var e=this;this.$confirm({message:_("Are you sure you want to leave?"),action:_("Yep, I'm done here"),cancel:_("No, take me back")}).then(function(){e.$store.dispatch("leaveThread",e.currentThread.threadId)})},joinThread:function(){this.isJoinable&&this.$store.dispatch("joinThread",this.currentThread.threadId)}}},fr=(n(233),Object(bt.a)(hr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"thread-manage-card"},[e._t("default"),e._v(" "),e.needShowButton?[e.isActive?n("div",{staticClass:"leave-btn button",on:{click:e.leaveThread}},[e._v("\n            "+e._s(e._("Leave Conversation"))+"\n        ")]):e.isJoinable?n("div",{staticClass:"join-btn button",on:{click:e.joinThread}},[e._v("\n            "+e._s(e._("Join Conversation"))+"\n        ")]):e._e()]:e._e()],2)},[],!1,null,null,null).exports),mr={components:{Sidebar:fr,MemberList:sr,GroupHeader:dr},computed:Object(Tt.a)({},Object(u.mapState)(["currentThread"]))},pr=(n(231),Object(bt.a)(mr,function(){var e=this.$createElement,t=this._self._c||e;return t("Sidebar",[t("div",{directives:[{name:"scroll-self",rawName:"v-scroll-self"}],staticClass:"group-wrapper"},[t("div",{staticClass:"scroll-wrapper"},[t("GroupHeader"),this._v(" "),t("MemberList",{attrs:{threadId:this.currentThread.threadId}})],1)])])},[],!1,null,null,null).exports),vr={components:{Sidebar:fr},computed:Object(Tt.a)({user:function(){return this.miniProfile},isBanned:function(){return 9===this.user.status||10===this.user.status},placeholder:function(){return window.assetURLPrefix+"/img/user-icon-placeholder.png"},progressStlye:function(){return{width:116*this.user.rankingProgress+20+"px"}},cover:function(){var e=this.user.covers[0];return e&&e.href}},Object(u.mapGetters)(["isBlockedByPartner","miniProfile"]))},gr=(n(229),Object(bt.a)(vr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-cover"},[n("div",{staticClass:"user-header chat-community-bg"},[!e.cover||e.isBlockedByPartner||e.isBanned?e._e():n("img",{staticClass:"img-cover",attrs:{src:e.cover,alt:"user selected cover"}})]),e._v(" "),n("a",{staticClass:"user-link",attrs:{href:e.user.webURL,target:"_parent"}},[e.isBanned?n("img",{staticClass:"avatar",attrs:{src:e.placeholder}}):n("img",{staticClass:"avatar",attrs:{src:e._f("userAvatar")(e.user,128)}})]),e._v(" "),n("p",{staticClass:"user-name"},[n("a",{staticClass:"user-link",attrs:{href:e.user.webURL,target:"_parent"}},[n("span",{staticClass:"user-name-truncate"},[e._v("\n                "+e._s(e._f("userNickname")(e.user))+"\n            ")]),e._v(" "),e.user.influencerInfo?n("span",{staticClass:"influencer-badge"}):e._e()])]),e._v(" "),e.user.rankingTitle?n("div",{staticClass:"user-ranking"},[n("i",{staticClass:"level-badge",class:"level-badge-"+e.user.level}),e._v(" "),n("div",{staticClass:"reputation-bar"},[e._v("\n            "+e._s(e.user.rankingTitle)+"\n            "),n("span",{staticClass:"rank-progress",style:e.progressStlye})])]):e._e(),e._v(" "),e.isBlockedByPartner?e._e():n("div",{staticClass:"counter-info"},[n("div",{staticClass:"counter rep"},[n("div",{staticClass:"number"},[e._v(e._s(e.user.reputation))]),e._v(" "),n("div",{staticClass:"label"},[e._v(e._s(e._("Reputation")))])]),e._v(" "),n("div",{staticClass:"counter following"},[n("div",{staticClass:"number"},[e._v(e._s(e.user.joinedCount))]),e._v(" "),n("div",{staticClass:"label"},[e._v(e._s(e._("Following")))])]),e._v(" "),n("div",{staticClass:"counter followers"},[n("div",{staticClass:"number j-followee-number-target"},[e._v(e._s(e.user.membersCount))]),e._v(" "),n("div",{staticClass:"label"},[e._v(e._s(e._("Followers")))])])]),e._v(" "),e.isBlockedByPartner?e._e():n("div",{staticClass:"counter-info-backdrop"})])},[],!1,null,null,null).exports),_r=0,br=1,wr=2,Tr=3;var yr,Er={computed:Object(Tt.a)(Object(Tt.a)({btnClass:function(){return function(e){switch(e.membershipStatus){case _r:return"status-stranger";case br:return"status-forward";case wr:return"status-backward";case Tr:return"status-mutual"}}(this.miniProfile)},btnText:function(){var e=this.hover;return function(e,t){switch(e.membershipStatus){case _r:case wr:return _("Follow");case br:return t?_("Unfollow"):_("Following");case Tr:return t?_("Unfollow"):_("Friends")}}(this.miniProfile,e)}},Object(u.mapGetters)(["miniProfile","isBlockedByPartner","isPartnerBlocked","isSystemLike","isMySelf"])),{isBanned:function(){return 9===this.miniProfile.status||10===this.miniProfile.status}}),data:function(){return{loading:!1,hover:!1}},methods:{toggleFollow:function(){var e=this;this.loading=!0,this.$store.dispatch("toggleFollow").then(function(){return e.loading=!1}).catch(function(t){e.$toast.warn(t&&t.message),e.loading=!1})}}},Cr=(n(227),{components:{Sidebar:fr,UserCover:gr,UserButtons:Object(bt.a)(Er,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isBlockedByPartner||e.isPartnerBlocked||e.isBanned?e.isBlockedByPartner?n("div",{staticClass:"user-buttons blocked"},[n("i",{staticClass:"fa fa-ban"}),e._v("\n    "+e._s(e._("You are blocked from following this user."))+"\n")]):e.isPartnerBlocked?n("div",{staticClass:"user-buttons"},[e.isPartnerBlocked?n("button",{key:"3",staticClass:"button block-button",class:e.btnClass},[e._v("\n        "+e._s(e._("Blocked"))+"\n    ")]):e._e()]):e.isBanned?n("div",{staticClass:"user-buttons blocked"},[e._v("\n    "+e._s(e._("This user is banned or deleted."))+"\n")]):e._e():n("div",{staticClass:"user-buttons"},[e.isSystemLike||e.isMySelf?e._e():[e.loading?n("button",{key:"2",staticClass:"button follow-button",class:e.btnClass},[n("i",{staticClass:"fa fa-circle-o-notch fa-spin"})]):n("button",{key:"1",staticClass:"button follow-button",class:e.btnClass,on:{click:e.toggleFollow,mouseenter:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[n("i",{staticClass:"fa fa-plus"}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.hover,expression:"!hover"}],staticClass:"follow-icon"}),e._v("\n            "+e._s(e.btnText)+"\n        ")])],e._v(" "),n("a",{staticClass:"button profile-button",attrs:{href:e.miniProfile.webURL,target:"_parent"}},[n("i",{staticClass:"amino-icon amino-icon-user-rev"}),e._v("\n        "+e._s(e._("Profile"))+"\n    ")])],2)},[],!1,null,null,null).exports,DoNotDisturb:ur},computed:Object(Tt.a)(Object(Tt.a)({},Object(u.mapGetters)(["miniProfile"])),Object(u.mapState)(["singleChatPartner"]))}),Ir=(n(225),{components:{Group:pr,Single:Object(bt.a)(Cr,function(){var e=this.$createElement,t=this._self._c||e;return t("Sidebar",[this.miniProfile?t("div",{staticClass:"user-profile"},[t("UserCover"),this._v(" "),this.singleChatPartner?t("DoNotDisturb",{staticClass:"do-not-disturb"}):this._e(),this._v(" "),t("UserButtons")],1):t("div",{staticClass:"user-profile loading"},[t("div",{staticClass:"loading-overlay"},[t("i",{staticClass:"fa fa-spin fa-circle-o-notch community-color"})])])])},[],!1,null,null,null).exports},methods:{watchClose:function(){var e=this;this.unsubscribe=Object(tt.a)(this.$refs.sidebar.$el,function(){return e.$store.commit("toggleRightSidebar",!1)})},toggle:function(){this.$store.commit("toggleRightSidebar",!this.showRightSidebar)}},computed:Object(Tt.a)({isSingle:function(){return"resting"!==this.$store.state.miniProfileAsync.state||this.currentThread&&this.currentThread.type===d.SINGLE},isGroup:function(){return this.currentThread&&this.currentThread.type!==d.SINGLE}},Object(u.mapState)(["currentThread","showRightSidebar"])),watch:{showRightSidebar:function(){!this.showRightSidebar&&this.unsubscribe?(this.unsubscribe(),this.unsubscribe=null):this.showRightSidebar&&!this.unsubscribe&&this.$nextTick(this.watchClose)}}}),Sr=(n(223),Object(bt.a)(Ir,function(){var e=this.$createElement,t=this._self._c||e;return t("transition",[this.isSingle&&this.showRightSidebar?t("Single",{ref:"sidebar",on:{"click-outside":this.toggle}}):this.isGroup&&this.showRightSidebar?t("Group",{ref:"sidebar",on:{"click-outside":this.toggle}}):this._e()],1)},[],!1,null,null,null).exports),Or=n(115),Ar=mt().components({ChatMessages:nr,ChatInteraction:fn,GroupDetail:vn,ChatActions:wt,ThreadCard:Sr,Lock:Or.a}).computed(pt(["currentThread","singleChatPartner","showRightSidebar","loadingMessage"])).computed((yr=["isCurrentThreadFanClubExpired"],Object(u.mapGetters)(yr))).computed({shouldShowTitle:function(){return function(e){if(!e)return!1;if(e.needHidden)return!1;var t=e.type===d.SINGLE,n=e.membershipStatus===h.ACTIVE;if(t||n)return!0;var r=e.status===f.AUTHORABSENT,i=9===e.status;return!r&&!i&&n}(this.currentThread)},joinClubTip:function(){var e=this.currentThread;return e&&e.needHidden?_("This chat is for {{member}}'s fan club members only.").replace("{{member}}",e.author.nickname):""}}).methods({threadName:Nt,scrollToBottom:function(){var e=this;this.$nextTick(function(){e.$refs.messages.scrollToBottom()})},requestJoinVip:function(){var e=this.isCurrentThreadFanClubExpired?["Chat Renew Club","renew"]:["Chat Join Club","join"],t=e[0],n=e[1];collectTEA("download_popup",{source:t}),Object(tt.c)({eventCategory:"Popup Join",eventLabel:"chat",eventAction:n}),je("requestJoinVip",{influencer:this.currentThread.author,motivation:t})}}).done(),Mr=(n(221),Object(bt.a)(Ar,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"main-chat"},[e.shouldShowTitle?n("header",{staticClass:"thread-title chat-community-bg"},[e._v("\n        "+e._s(e.threadName(e.currentThread))+"\n        "),e.singleChatPartner&&1===e.singleChatPartner.onlineStatus?n("div",{staticClass:"online-indicator"}):e._e()]):n("GroupDetail",{attrs:{"is-transparent":!e.showRightSidebar}}),e._v(" "),e.currentThread.needHidden?n("div",{staticClass:"chat-vip-mask"},[n("Lock",{staticClass:"lock-icon"}),e._v(" "),n("p",{staticClass:"chat-vip-tip"},[e._v(e._s(e.joinClubTip))]),e._v(" "),n("button",{staticClass:"btn btn-round btn-vip",on:{click:e.requestJoinVip}},[e._v(e._s(e.isCurrentThreadFanClubExpired?e._("Renew"):e._("Join Fan Club")))])],1):n("div",{staticClass:"chat-detail-area"},[n("ChatMessages",{ref:"messages"}),e._v(" "),n("ChatInteraction",{attrs:{thread:e.currentThread},on:{"new-message":e.scrollToBottom}}),e._v(" "),n("transition",[e.loadingMessage?n("div",{staticClass:"loading-overlay"},[n("i",{staticClass:"fa-spin fa fa-circle-o-notch community-color"})]):e._e()])],1),e._v(" "),n("ChatActions"),e._v(" "),n("ThreadCard")],1)},[],!1,null,null,null).exports),kr=ServerData.community?ServerData.community.ndcId:"x0",Lr=mt().props({thread:Object}).computed({displayUser:function(){return Rt(this.thread)},displayUsers:function(){return xt(this.thread)},isSingle:function(){return this.thread.type===d.SINGLE}}).methods({imageLoadFail:function(){var e=this;he({ndcId:kr,userId:this.displayUser.uid}).then(function(t){e.displayUser.icon=t.icon})}}).done(),xr=(n(219),Object(bt.a)(Lr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSingle?n("div",{staticClass:"thread-icon cover-img round-cover"},[n("img",{staticClass:"avatar",attrs:{src:e._f("userAvatar")(e.displayUser,"68")},on:{error:e.imageLoadFail}})]):e.thread.icon||e.thread.type!==e.constants.CHAT_THREAD_TYPE.GROUP?n("div",{staticClass:"thread-icon cover-img"},[n("img",{staticClass:"img-cover",attrs:{src:e._f("resizeImage")(e.thread.icon,"128")}})]):n("div",{staticClass:"thread-icon cover-img round-cover multi-user-cover"},e._l(e.displayUsers,function(t,r){return n("img",{key:r,staticClass:"multi-avatar img-cover",attrs:{src:e._f("userAvatar")(t,"68")}})}))},[],!1,null,null,null).exports),Nr=mt().components({ThreadIcon:xr}).data(function(){return{community:ServerData.community,incomingMsgs:[]}}).computed(pt(["currentThread","threadMap"])).computed({currentMsg:function(){return this.incomingMsgs[0]}}).computed({threadName:function(){return Nt(this.currentThread)},className:function(){return{"has-incoming-msg":this.incomingMsgs.length>0}},messageExceprt:function(){var e=this.threadMap[this.currentMsg.threadId];return Pt(this.currentMsg,e)},messageThreadName:function(){return Nt(this.threadMap[this.currentMsg.threadId])}}).methods({informHover:function(e,t){void 0===t&&(t=!1),je("minimizedIconHover",{communityName:ServerData.community.name,href:"/c/"+ServerData.community.endpoint+"/home",show:e,instant:t})},setupInterval:function(){var e=this;this.interval||(this.interval=setInterval(function(){e.incomingMsgs.shift(),0===e.incomingMsgs.length&&(clearInterval(e.interval),e.interval=null)},3e3))}}).methods({maximizeWindow:function(){var e=this.$store;this.currentMsg&&e.dispatch("addOneThread",{threadId:this.currentMsg.threadId,source:"minimized_window",action:"click"}),e.dispatch("toggleMinimize"),this.informHover(!1,!0)},closeWindow:function(){je("closeChatWindow")},addNewMessage:function(e){if(e){var t=this.threadMap;e.type===o.USER_GENERAL&&t[e.threadId]&&t[e.threadId].alertOption===b.ON&&(this.$store.commit("toggleHasMessageWhenMinimized",!0),this.incomingMsgs.push(e),this.setupInterval())}}}).methods({cleanup:function(){Y.$off("msg",this.addNewMessage),clearInterval(this.interval),this.interval=null,this.incomingMsgs=[]}}).lifecycle({activated:function(){Y.$on("msg",this.addNewMessage)},deactivated:function(){this.cleanup()}}).done(),Rr=(n(217),Object(bt.a)(Nr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"minimized-preview",class:e.className,on:{click:e.maximizeWindow}},[n("img",{staticClass:"logo",attrs:{src:e.community.logo},on:{mouseenter:function(t){e.informHover(!0)},mouseleave:function(t){e.informHover(!1)}}}),e._v(" "),n("transition",[e.incomingMsgs.length?n("div",{key:"1",staticClass:"minimize-container message-coming"},[n("transition",[n("p",{key:e.currentMsg.threadId,staticClass:"thread-title"},[e._v(e._s(e.messageThreadName))])]),e._v(" "),n("transition",[n("div",{key:e.currentMsg.messageId,staticClass:"msg-excerpt"},[e._v(e._s(e.messageExceprt))])])],1):e.currentThread?n("div",{key:"3",staticClass:"minimize-container chat-thread-rest"},[n("ThreadIcon",{attrs:{thread:e.currentThread}}),e._v(" "),n("p",{staticClass:"thread-title"},[e._v(" "+e._s(e.threadName)+" ")])],1):n("div",{key:"2",staticClass:"minimize-container no-thread"},[n("p",{staticClass:"thread-title"},[e._v("\n                "+e._s(e.community.name)+"\n            ")])])]),e._v(" "),n("div",{staticClass:"chat-actions"},[n("i",{staticClass:"hoverable close amino-icon amino-icon-x",on:{click:function(t){return t.stopPropagation(),e.closeWindow(t)}}})])],1)},[],!1,null,null,null).exports),Dr=ServerData.community?ServerData.community.ndcId:"x0";function Pr(e){return e.type===o.USER_GENERAL&&e.content}var jr={props:{threadId:String},data:function(){return{showPreview:!1,allMessages:null,messages:[],index:0}},methods:{start:function(){var e,t=this;return this.timer?Promise.resolve(!0):(this.showPreview=!0,this.allMessages?this.startAnimation(!0):(e=this.threadId,ue({ndcId:Dr,threadId:e,size:15}).then(function(e){return[].slice.call(e)}).then(function(e){return e.filter(Pr)})).then(function(e){return t.allMessages=e,t.showPreview?t.startAnimation(!0):Promise.resolve(!1)}))},startAnimation:function(e){var t=this;if(this.allMessages.length<=2)return this.messages=this.allMessages,Promise.resolve(this.allMessages.length>0);for(var n=this.allMessages.slice(this.index,this.index+2),r=0;n.length<2;)n.push(this.allMessages[r++]);return this.messages=n,this.index++,this.index=this.index%this.allMessages.length,this.timer=setTimeout(function(){t.startAnimation()},e?800:2e3),Promise.resolve(!0)},stop:function(){this.showPreview=!1,this.messages=[],clearTimeout(this.timer),this.timer=void 0}}},Vr=(n(215),Object(bt.a)(jr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"chat-message-preview unstyled",attrs:{tag:"ul"}},e._l(e.messages,function(t){return n("li",{key:t.messageId,staticClass:"comment pointer",attrs:{k:t.messageId}},[n("img",{staticClass:"avatar",attrs:{src:e._f("userAvatar")(t.author,68),alt:"User icon"}}),e._v(" "),n("div",{staticClass:"message"},[n("span",{staticClass:"content"},[e._v("\n                "+e._s(t.content)+"\n            ")])])])}))},[],!1,null,null,null).exports),Fr=ServerData.userInfo,Hr={props:{thread:Object,userInfo:Object},data:function(){return{preview:!1}},components:{MessagePreview:Vr,HoverHint:Bt},computed:{activeTime:function(){return Dt(this.thread)},onlineMember:function(){var e=this.userInfo,t=e&&e.userProfileCount;return t?(t>1?_("{{number}} members online"):_("{{number}} member online")).replace("{{number}}",t):""},fanclubText:function(){var e=this.thread;return e&&e.author?_("Join {{owner}}'s  Fan Club on the Amino app to chat.").replace("{{owner}}",F(e.author)):_("This chat is fan club member only.")}},methods:{showMessagePreview:function(){var e=this;Fr&&this.$refs.preview.start().then(function(t){e.preview=t})},hideMessagePreview:function(){Fr&&(this.$refs.preview.stop(),this.preview=!1)}}},Ur=(n(213),Object(bt.a)(Hr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return 0===e.thread.status?n("li",{staticClass:"chatroom",class:{preview:e.preview},on:{mouseenter:e.showMessagePreview,mouseleave:e.hideMessagePreview}},[e.thread.extensions&&e.thread.extensions.fansOnly?n("i",{staticClass:"fan-club-icon"},[n("HoverHint",{staticClass:"hover-hint bottom align-right"},[e._v("\n            "+e._s(e.fanclubText)+"\n        ")])],1):e._e(),e._v(" "),n("div",{staticClass:"cover-img"},[n("div",{staticClass:"cover community-bg"}),e._v(" "),n("img",{staticClass:"img-cover",attrs:{src:e.thread.icon}})]),e._v(" "),n("div",{staticClass:"overlay"},[n("div",{staticClass:"chat-info overflow-hidden"},[n("span",{staticClass:"pretty-date"},[e._v("\n                "+e._s(e._f("prettyDate")(e.activeTime))+"\n            ")]),e._v(" "),n("h3",{staticClass:"title"},[e._v("\n                "+e._s(e.thread.title)+"\n            ")]),e._v(" "),n("div",{staticClass:"counters"},[n("span",{staticClass:"counter"},[n("i",{staticClass:"amino-icon amino-icon-user-triple"}),e._v(" "),n("span",{staticClass:"num"},[e._v(e._s(e.thread.membersCount))])])])])]),e._v(" "),e.onlineMember?n("div",{staticClass:"chat-member-counter"},[n("span",{staticClass:"online-mark"}),e._v(" "),n("span",{staticClass:"chat-memeber-count-text"},[e._v("\n            "+e._s(e.onlineMember)+"\n        ")])]):e._e(),e._v(" "),n("MessagePreview",{ref:"preview",attrs:{"thread-id":e.thread.threadId}})],1):e._e()},[],!1,null,null,null).exports),$r=ServerData.community?ServerData.community.ndcId:"x0",Br={components:{ThreadCard:Ur,ScrollLoader:er},data:function(){return{loaded:!1,liveThreads:[],threadMap:{},hasMore:!0,userInfos:{}}},methods:{handleClick:function(e){ServerData.userInfo?this.$store.dispatch("addOneThread",{threadId:e.threadId,source:"suggested_public_chatrooms",action:"click"}):function(e,t,n){je("requestJoin",{ndcId:e,threadId:t.threadId,joinIcons:t.author.icon,joinMotivation:"chat",eventLabel:n.source})}($r,e,{source:"enter_chat_thread",action:"click"})},loadMore:function(){var e=this;this.start=this.start||10,this.start>100?this.hasMore=!1:(le({ndcId:$r,start:this.start}).then(function(t){e.mergeResult(t)}),this.start+=10)},mergeResult:function(e){for(var t=e.threadList||[],n=0,r=t=(t=t.concat(e.recommendedThreadList||[])).filter(function(e){return 0===e.status});n<r.length;n++){var i=r[n];this.threadMap[i.threadId]||(this.liveThreads.push(i),this.threadMap[i.threadId]=!0)}for(var s in e.userInfoInThread)this.userInfos[s]=e.userInfoInThread[s];this.hasMore=t.length>0;var o=this.$refs.loader;o&&o.isInViewport&&this.loadMore()}},mounted:function(){var e=this;le({ndcId:$r}).then(function(t){e.loaded=!0,e.mergeResult(t)})}},zr=(n(211),Object(bt.a)(Br,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loaded?n("div",{staticClass:"empty-container"},[n("section",{staticClass:"recommend-hint"},[n("p",{staticClass:"recommend-guide"},[e._v("\n        "+e._s(e._("You haven't joined any conversations yet."))+" "),n("br"),e._v(" "),e.liveThreads.length>0?[e._v("\n            "+e._s(e._("Check out these public chatrooms:"))+"\n        ")]:e._e()],2)]),e._v(" "),n("div",{staticClass:"scroll-wrapper"},[n("ul",{directives:[{name:"scroll-self",rawName:"v-scroll-self"}],staticClass:"chatroom-list"},[e._l(e.liveThreads,function(t){return n("ThreadCard",{key:t.threadId,attrs:{thread:t,"user-info":e.userInfos[t.threadId]},nativeOn:{click:function(n){e.handleClick(t)}}})}),e._v(" "),e.hasMore?n("li",{staticClass:"loader-item"},[n("ScrollLoader",{ref:"loader",on:{"enter-view":e.loadMore}},[n("i",{staticClass:"fa fa-spin fa-circle-o-notch"})])],1):e._e()],2)])]):e._e()},[],!1,null,null,null).exports),Gr={props:{thread:Object,activeId:String},components:{ThreadIcon:xr,HoverHint:Bt},data:function(){return{fanclubHover:!1,fanclubTop:""}},computed:{isActive:function(){return this.thread.threadId===this.activeId},threadName:function(){return Nt(this.thread)},threadTime:function(){return Dt(this.thread)},showRedDot:function(){var e=this.thread;return!this.isActive&&(e.type===d.SINGLE||e.membershipStatus===h.ACTIVE)&&e.latestActivityTime>e.lastReadTime},message:function(){return this.thread.lastMessageSummary},messageSummary:function(){return jt(this.thread)},fanclubText:function(){var e=this.thread;return e&&e.author?_("Join {{owner}}'s Fan Club on the Amino app to chat.").replace("{{owner}}",F(e.author)):_("This chat is fan club member only.")},draft:function(){return this.$store.state.draftMessages[this.thread.threadId]}},methods:{showFanclub:function(e){var t=e.target.getBoundingClientRect().top;this.fanclubHover=!0,this.fanclubTop=t+"px"},hideFanclub:function(){this.fanclubHover=!1}},mounted:function(){this.isActive&&function(e){if(Zn){var t=Qn(e.parentNode);t.scrollTop=e.offsetTop-t.offsetTop}else e.scrollIntoView()}(this.$el)}},Wr=(n(209),Object(bt.a)(Gr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"chatroom",class:{active:e.isActive},on:{click:function(t){e.$emit("click")}}},[n("div",{staticClass:"active-indicator chat-community-bg"}),e._v(" "),n("ThreadIcon",{attrs:{thread:e.thread}}),e._v(" "),n("div",{staticClass:"thread-name"},[n("span",{staticClass:"name"},[e._v(e._s(e.threadName))]),e._v(" "),n("span",{staticClass:"pretty-date"},[e._v("\n            "+e._s(e._f("prettyDate")(e.threadTime))+"\n        ")])]),e._v(" "),e.showRedDot?n("div",{staticClass:"red-dot"}):e._e(),e._v(" "),!e.isActive&&e.draft?n("div",{staticClass:"message-summary"},[n("span",{staticClass:"draft-hint"},[e._v("["+e._s(e._("Draft"))+"]")]),e._v("\n        "+e._s(e.draft)+"\n    ")]):e.message&&!e.thread.needHidden?n("div",{staticClass:"message-summary"},[e.message.sendFailed?n("span",{staticClass:"fa fa-exclamation-circle"}):e.message.messageId?e._e():n("span",{staticClass:"fa fa-spin fa-circle-o-notch"}),e._v("\n        "+e._s(e.messageSummary)+"\n    ")]):e._e(),e._v(" "),e.thread.extensions&&e.thread.extensions.fansOnly?[n("i",{staticClass:"fan-club-icon",on:{mouseenter:e.showFanclub,mouseleave:e.hideFanclub}}),e._v(" "),n("HoverHint",{staticClass:"hover-hint bottom align-right",class:{show:e.fanclubHover},style:{top:e.fanclubTop}},[e._v("\n            "+e._s(e.fanclubText)+"\n        ")])]:e._e()],2)},[],!1,null,null,null).exports),Yr=mt().components({ScrollLoader:er,ThreadSummary:Wr}).data(function(e){return{hasMore:!0}}).computed(pt(["currentThread","threadList"])).methods({setActiveThreard:function(e){this.fromClick=!0,this.$store.commit("setThreadForTracker",{threadId:e.threadId,source:"chat_thread_list",action:"click"}),this.$store.dispatch("setThread",e)},loadMore:function(){var e=this;if(!this.loading){this.loading=!0;var t=ServerData.community?ServerData.community.ndcId:"x0",n=this.threadList.length,r={ndcId:t,size:16,start:Math.max(n-8,0)},i=this.$refs.loader;(function(e){var t=e.ndcId,n=e.start,r=void 0===n?0:n,i=e.size,s=void 0===i?25:i;return Object(ce.i)("my-chat-threads",{ndcId:t,start:r,size:s})})(r).then(function(t){var n=t.threadList;e.hasMore=n.length>=16,e.loading=!1,e.$store.commit("mergeThreads",n);var r=e.$store.state.addedThreadCount>0;e.hasMore&&i.isInViewport()&&r&&e.loadMore()})}},nextThread:function(e){if(e.target===document.body||!e.target.value){var t=e.keyCode;if(38===t||40===t){e.preventDefault();var n=38===t?-1:1;this.$store.dispatch("rotateThread",n)}}}}).watch({currentThread:function(){if(this.currentThread){var e=this.$refs["thread"+this.currentThread.threadId];if(!this.fromClick&&e&&e[0])e[0].$el.scrollIntoView({behavior:"instant",block:"nearest"});else this.fromClick=!1}}}).lifecycle({mounted:function(){document.body.addEventListener("keydown",this.nextThread)},beforeDestroy:function(){document.body.removeEventListener("keydown",this.nextThread)}}).done(),qr=(n(207),Object(bt.a)(Yr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.threadList.length>0?n("section",{directives:[{name:"scroll-self",rawName:"v-scroll-self"}],staticClass:"thread-list",class:{maximized:e.$store.state.isMaximizedView}},[e.threadList.some(function(e){return e.isPinned})?n("div",{staticClass:"pinned-tip"},[n("i",{staticClass:"amino-icon amino-icon-pin"}),e._v("\n        "+e._s(e._("Pinned"))+"\n    ")]):e._e(),e._v(" "),n("transition-group",{staticClass:"animation-list",attrs:{tag:"div"}},e._l(e.threadList,function(t){return n("ThreadSummary",{key:t.threadId,ref:"thread"+t.threadId,refInFor:!0,class:{pinned:t.isPinned,unpinned:!t.isPinned},attrs:{thread:t,activeId:e.currentThread.threadId},on:{click:function(n){e.setActiveThreard(t)}}})})),e._v(" "),e.hasMore?n("ScrollLoader",{ref:"loader",on:{"enter-view":e.loadMore}}):e._e()],1):e._e()},[],!1,null,null,null).exports),Jr=mt().components({ChatThreads:qr,ChatActions:wt}).data(function(e){return{community:ServerData.community}}).computed(pt(["currentThread"])).done(),Kr=(n(205),Object(bt.a)(Jr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"chat-aside",class:{maximized:e.$store.state.isMaximizedView}},[n("header",{staticClass:"community-title chat-community-bg"},[e.community?n("a",{attrs:{target:"_parent",href:"/c/"+e.community.endpoint+"/home"}},[n("img",{staticClass:"logo",attrs:{src:e.community.logo}}),e._v("\n            "+e._s(e.community.name)+"\n        ")]):n("a",[n("img",{staticClass:"logo",attrs:{src:"/static/img/master-v2-icon-72.png"}}),e._v("\n            "+e._s(e._("Global Chats"))+"\n        ")])]),e._v(" "),n("ChatThreads"),e._v(" "),e.currentThread?e._e():n("ChatActions")],1)},[],!1,null,null,null).exports),Xr=n(36),Qr={props:{addtionalClass:{default:[]},show:Boolean}},Zr=(n(203),Object(bt.a)(Qr,function(){var e=this.$createElement,t=this._self._c||e;return t("transition",[this.show?t("div",{staticClass:"global-overlay",class:this.addtionalClass},[t("div",{staticClass:"overlay-content"},[this._t("default")],2)]):this._e()])},[],!1,null,null,null).exports),ei={components:{Overlay:Zr},data:function(){return{resolve:function(){},reject:function(){},type:"",message:"",placeholder:"",title:"",action:"",cancel:"",show:!1,theme:""}},methods:{confirm:function(e){var t=this,n=e.message,r=e.action,i=void 0===r?"Ok":r,s=e.cancel,o=void 0===s?"cancel":s;return this.show=!0,this.message=n,this.type="confirm",this.action=i,this.cancel=o,new Promise(function(e,n){t.resolve=function(){t.show=!1,e()},t.reject=function(){t.show=!1,n()}})}}},ti=(n(201),Object(bt.a)(ei,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Overlay",{attrs:{show:e.show,"addtional-class":["global-modal-box-overlay"]}},[n("div",{staticClass:"content modal-box-popup",class:[e.type,e.theme]},[e.title?n("h4",{staticClass:"popup-title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),n("div",{staticClass:"message"},[e._v("\n            "+e._s(e.message)+"\n        ")]),e._v(" "),"prompty"===e.type?n("div",{staticClass:"input-box"},[n("input",{staticClass:"input",attrs:{type:"text",placeholder:e.placeholder}})]):e._e(),e._v(" "),n("div",{staticClass:"actions"},[n("button",{staticClass:"button btn-commit",on:{click:e.resolve}},[e._v("\n                "+e._s(e.action)+"\n            ")]),e._v(" "),"confirm"===e.type||"prompt"===e.type?n("button",{staticClass:"button btn-cancel",on:{click:e.reject}},[e._v("\n                "+e._s(e.cancel)+"\n            ")]):e._e()])])])},[],!1,null,null,null).exports),ni=ServerData.community?ServerData.community.ndcId:"x0",ri=mt().components({Overlay:Zr}).data(function(e){return{state:"selectFlagType",flagType:"",detailText:"",resolve:function(){},reject:function(){},request:function(){},show:!1}}).computed({flagTypeName:function(){return this.constants.FLAG_TYPE_NAME_FULL[this.flagType]}}).methods({startFlag:function(){if(this.show)throw new Error("cannot reenter flag review!");this.show=!0,this.flagType="",this.detailText="",this.state="selectFlagType"},makePromise:function(){var e=this;return new Promise(function(t,n){e.resolve=function(){e.show=!1,t()},e.reject=function(){e.show=!1,n()}})},submitSuccess:function(){this.$toast.success(_("Submitted")),this.resolve()},warnError:function(e){this.$toast.warn(e&&e.message)}}).methods({flagMessage:function(e){var t=this;return this.startFlag(),this.request=function(){return(n=ni,r={flagType:+t.flagType,message:t.detailText,messageId:e.messageId,threadId:e.threadId},i=r.messageId,s=r.threadId,o=r.flagType,a=r.message,Object(ce.i)("/api/add-flag",{ndcId:n,flagType:o,message:a,objectId:i,objectType:l.b.CHAT_MESSAGE,parentId:s,parentType:l.b.CHAT_THREAD})).then(t.submitSuccess).catch(t.warnError);var n,r,i,s,o,a},this.makePromise()},enterDetail:function(){""!==this.flagType&&(this.state="flagDetail")},flagThread:function(e){var t=this;return this.startFlag(),this.request=function(){return(n=ni,r={flagType:+t.flagType,message:t.detailText,threadId:e.threadId},i=r.threadId,s=r.flagType,o=r.message,Object(ce.i)("/api/add-flag",{ndcId:n,flagType:s,message:o,objectId:i,objectType:l.b.CHAT_THREAD})).then(t.submitSuccess).catch(t.warnError);var n,r,i,s,o},this.makePromise()}}).done(),ii=(n(199),Object(bt.a)(ri,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Overlay",{attrs:{show:e.show,"addtional-class":["global-flag-overlay"]}},["selectFlagType"===e.state?n("div",{key:"select",staticClass:"flag-container"},[n("h2",{staticClass:"flag-title"},[e._v(e._s(e._("What's wrong?")))]),e._v(" "),n("section",{staticClass:"select-types"},e._l(e.constants.FLAG_TYPE_NAME_MAP,function(t,r){return n("label",{key:r,staticClass:"select-type"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.flagType,expression:"flagType"}],staticClass:"hidden",attrs:{type:"radio",name:"flagType"},domProps:{value:r,checked:e._q(e.flagType,r)},on:{change:function(t){e.flagType=r}}}),e._v(" "),n("span",{staticClass:"pseudo-check"},[e._v(e._s(t))])])})),e._v(" "),n("div",{staticClass:"flag-buttons"},[n("button",{staticClass:"button button-cancel",on:{click:e.reject}},[e._v(e._s(e._("Cancel")))]),e._v(" "),n("button",{staticClass:"button button-submit",attrs:{disabled:""===e.flagType},on:{click:e.enterDetail}},[e._v(e._s(e._("Next")))])])]):"flagDetail"===e.state?n("div",{key:"detail",staticClass:"flag-container"},[n("h2",{staticClass:"flag-title"},[e._v(e._s(e.flagTypeName))]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.detailText,expression:"detailText"}],staticClass:"flag-detail",attrs:{rows:"9",placeholder:e._("Let us know the reason (Optional)")},domProps:{value:e.detailText},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.request(t)):null},input:function(t){t.target.composing||(e.detailText=t.target.value)}}}),e._v(" "),n("div",{staticClass:"flag-buttons"},[n("button",{staticClass:"button button-cancel",on:{click:e.reject}},[e._v(e._s(e._("Cancel")))]),e._v(" "),n("button",{staticClass:"button button-submit",on:{click:e.request}},[e._v(e._s(e._("Submit")))])])]):e._e()])},[],!1,null,null,null).exports),si={computed:{waitDragging:function(){return this.sendable&&this.$store.state.waitDragging},sendable:function(){return this.$store.getters.isCurrentThreadSendable}},data:function(){return{canDrop:!1}},methods:{enableDrop:function(e){clearTimeout(this.leaveTimer),this.sendable&&(je("dragEnterWindow"),this.canDrop=!0)},disableDrop:function(e){var t=this;this.leaveTimer=setTimeout(function(){t.canDrop=!1},10)},onDrop:function(e){e.preventDefault(),je("dropInWindow"),this.sendable&&this.waitDragging&&(this.disableDrop(),e.dataTransfer&&e.dataTransfer.getData)}},mounted:function(){document.body.addEventListener("dragover",this.enableDrop),document.body.addEventListener("drop",this.onDrop),document.body.addEventListener("dragleave",this.disableDrop)},beforeDestroy:function(){document.body.removeEventListener("dragover",this.enableDrop),document.body.removeEventListener("drop",this.onDrop),document.body.removeEventListener("dragleave",this.disableDrop)}},oi=(n(197),Object(bt.a)(si,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.waitDragging?n("div",{staticClass:"drop-overlay",class:{"can-drop":e.canDrop},on:{drop:e.onDrop}},[n("div",{staticClass:"drop-content"},[n("h3",{staticClass:"drop-title"},[e._v("\n            "+e._s(e.canDrop?e._("Sweet. Now Let go!"):e._("Drop image here to send."))+"\n        ")]),e._v(" "),n("p",{staticClass:"drop-text"},[e._v("\n        "+e._s(e._("You can add comments before uploading."))+"\n        ")])])]):e._e()},[],!1,null,null,null).exports),ai=mt().components({ChatAside:Kr,MinimizedPreview:Rr,MainChat:Mr,EmptyRecommendation:zr,Toast:Xr.a,ModalBox:ti,FlagReview:ii,DropOveraly:oi}).computed(pt(["currentThread","isMinimizedView","hasMessagesWhenMinimized"])).computed({className:function(){return{empty:!this.currentThread,minimized:this.isMinimizedView,"has-message":this.hasMessagesWhenMinimized}}}).done(),ci=c.default.extend(ai),ui=(n(195),Object(bt.a)(ci,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-container",class:e.className},[e.isMinimizedView?e._e():n("ChatAside",{class:e.className}),e._v(" "),n("keep-alive",[e.isMinimizedView?n("MinimizedPreview"):e.currentThread?n("MainChat"):n("EmptyRecommendation")],1),e._v(" "),n("Toast",{ref:"toast"}),e._v(" "),n("ModalBox",{ref:"modalBox"}),e._v(" "),n("FlagReview",{ref:"flagReview"}),e._v(" "),n("DropOveraly")],1)},[],!1,null,null,null).exports);n.d(t,"store",function(){return hi}),c.default.use(u.default),c.default.directive("scroll-self",C);var li=Object(I.c)(r),di={data:function(){return{constants:li}},methods:{_:_,$confirm:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$root.$refs.modalBox;return n.confirm.apply(n,e)}},computed:{$toast:{get:function(){return this.$root.$refs.toast},lazy:!0},$flagReview:{get:function(){return this.$root.$refs.flagReview},lazy:!0}}};c.default.mixin(di);var hi=function(){var e=new u.default.Store({state:Be,mutations:ae,actions:Ye,getters:et}),t=function(e){return localStorage.getItem(Ve(e))}(ServerData.community?ServerData.community.ndcId:"x0")||ServerData.currentThreadId;if(dt(e),t){var n=e.state.threadMap[t]||e.state.threadList[0];n&&e.dispatch("setThread",n).then(function(){!function(e){Re(e,5e3),De(e,5e3),e.subscribe(Le)}(e)})}return st(e),q()&&!A&&e.dispatch("toggleMinimize"),e}();window.addEventListener("message",function(e){if(e.origin===location.origin){var t=e.data;switch(t.type){case"switchToThread":hi.dispatch("addOneThread",t.payload);break;case"sendSingleChat":hi.dispatch("receiveSingleChat",t.payload);break;case"openChatWindow":Me(hi,!1,t.payload);var n=document.querySelector(".chat-input-area textarea");n&&n.focus(),hi.state.isMinimizedView&&!q()&&setTimeout(function(){hi.commit("toggleMinimize")},250);break;case"startDragFile":case"endDragFile":hi.commit(t.type);break;case"logout":!function(){for(var e=[],t=0,n=localStorage.length;t<n;t++)e.push(localStorage.key(t));e.filter(function(e){return/^chat-last-thread-/.test(e)}).forEach(function(e){localStorage.removeItem(e)})}()}}},!1),document.addEventListener("visibilitychange",function(){document.hidden||Me(hi)}),new ui({el:"#app",store:hi}).$nextTick(function(){je("chatWindowLoaded")})},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(51);n.n(r).a},,function(e,t,n){"use strict";var r=n(52);n.n(r).a},,function(e,t,n){"use strict";var r=n(53);n.n(r).a},,function(e,t,n){"use strict";var r=n(54);n.n(r).a},,function(e,t,n){"use strict";var r=n(55);n.n(r).a},,function(e,t,n){"use strict";var r=n(56);n.n(r).a},,function(e,t,n){"use strict";var r=n(57);n.n(r).a},,function(e,t,n){"use strict";var r=n(58);n.n(r).a},,function(e,t,n){"use strict";var r=n(59);n.n(r).a},,function(e,t,n){"use strict";var r=n(60);n.n(r).a},,function(e,t,n){"use strict";var r=n(61);n.n(r).a},,function(e,t,n){"use strict";var r=n(62);n.n(r).a},,function(e,t,n){"use strict";var r=n(63);n.n(r).a},,function(e,t,n){"use strict";var r=n(64);n.n(r).a},,function(e,t,n){"use strict";var r=n(65);n.n(r).a},,function(e,t,n){"use strict";var r=n(66);n.n(r).a},,function(e,t,n){"use strict";var r=n(67);n.n(r).a},,function(e,t,n){"use strict";var r=n(68);n.n(r).a},,function(e,t,n){"use strict";var r=n(69);n.n(r).a},,function(e,t,n){"use strict";var r=n(70);n.n(r).a},,function(e,t,n){"use strict";var r=n(71);n.n(r).a},,function(e,t,n){"use strict";var r=n(72);n.n(r).a},,function(e,t,n){"use strict";var r=n(73);n.n(r).a},,function(e,t,n){"use strict";var r=n(74);n.n(r).a},,function(e,t,n){"use strict";var r=n(75);n.n(r).a},,function(e,t,n){"use strict";var r=n(76);n.n(r).a},,function(e,t,n){"use strict";var r=n(77);n.n(r).a},,function(e,t,n){"use strict";var r=n(78);n.n(r).a},,function(e,t,n){"use strict";var r=n(79);n.n(r).a},,function(e,t,n){"use strict";var r=n(80);n.n(r).a},,function(e,t,n){"use strict";var r=n(81);n.n(r).a},,function(e,t,n){"use strict";var r=n(82);n.n(r).a},,function(e,t,n){"use strict";var r=n(83);n.n(r).a},,function(e,t,n){"use strict";var r=n(84);n.n(r).a},,function(e,t,n){"use strict";var r=n(85);n.n(r).a},,function(e,t,n){"use strict";var r=n(86);n.n(r).a},,function(e,t,n){"use strict";var r=n(87);n.n(r).a},,function(e,t,n){"use strict";var r=n(88);n.n(r).a},,function(e,t,n){"use strict";var r=n(89);n.n(r).a},,function(e,t,n){"use strict";var r=n(90);n.n(r).a},,function(e,t,n){"use strict";var r=n(91);n.n(r).a},,function(e,t,n){"use strict";var r=n(92);n.n(r).a},,function(e,t,n){"use strict";var r=n(93);n.n(r).a},,function(e,t,n){"use strict";var r=n(94);n.n(r).a},function(e,t,n){"use strict";n.r(t);var r=n(24);Object(r.a)(function(){n(179)})}]);